(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e432485","chunk-d81f416c"],{2403:function(t,e,r){"use strict";r("8de9")},"328f":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"users-wrap"},[t._l(t.users,(function(e,n){return r("div",{key:n,staticClass:"avatar",class:{step:t.step,last:n===t.users.length-1}},[r("span",{staticClass:"close",on:{click:function(t){t.stopPropagation()}}},[r("i",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticClass:"iconfont icon-guanbi",on:{click:function(e){return t.removeUser(n)}}})]),r("el-tooltip",{attrs:{content:e.userName,effect:"dark",placement:"top"}},[r("avatar",{attrs:{user:e}})],1),t.tags?r("div",{staticStyle:{"line-height":"16px","padding-top":"8px"}},[t._v(t._s(e.userTag||e.userName))]):t._e(),r("div",{staticClass:"line"})],1)})),r("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}]},[r("i",{staticClass:"iconfont icon-tianjia pointer fs-22",on:{click:function(e){return t.showMemberTransfer("transfer")}}})]),r("members-transfer",{ref:"transfer",attrs:{multi:t.multi,role:t.role,step:t.step,users:t.users,invest:t.invest},on:{SAVE_USERS:t.setUsers}})],2)},a=[],o=r("7150"),i=r("8995"),s={components:{avatar:o["a"],membersTransfer:i["a"]},model:{prop:"users",event:"change"},props:{users:Array,step:{type:Boolean,default:function(){return!1}},edit:{type:Boolean,default:function(){return!0}},multi:{type:Boolean,default:function(){return!0}},placement:{type:String,default:function(){return"top"}},role:{type:Boolean,default:function(){return!1}},tags:{type:Boolean,default:function(){return!1}},invest:{type:Boolean,default:function(){return!1}}},computed:{},data:function(){return{}},methods:{setUsers:function(t){this.$emit("change",t),this.$emit("SET_USERS",t)},showMemberTransfer:function(t){this.$refs[""+t].show()},removeUser:function(t){var e=this.users;e.splice(t,1)}}},c=s,u=(r("44df"),r("4ac2")),l=Object(u["a"])(c,n,a,!1,null,"45d72c07",null);e["a"]=l.exports},"44df":function(t,e,r){"use strict";r("bfe1")},"6f11":function(t,e,r){},"8de9":function(t,e,r){},9090:function(t,e,r){"use strict";var n=r("b775");e["a"]={getEnumTypes:function(t){return Object(n["a"])({url:"/enum/"+t,method:"get"})},getUserList:function(t){return Object(n["a"])({url:"/ivf/user/list",method:"post",data:t})},isUserExist:function(t){return Object(n["a"])({url:"/ivf/user/addSearch",method:"post",data:t})},addUser:function(t){return Object(n["a"])({url:"/ivf/user/add",method:"post",data:t})},editUser:function(t,e){return Object(n["a"])({url:"/ivf/user/"+e+"/edit",method:"post",data:t})},deleteUser:function(t){return Object(n["a"])({url:"/ivf/user/"+t+"/delete",method:"post"})},getUserDetail:function(t){return Object(n["a"])({url:"/ivf/user/"+t,method:"get"})},exportUser:function(){return Object(n["a"])({url:"/ivf/user/export",method:"post",responseType:"arraybuffer"})},importTemplate:function(){return Object(n["a"])({url:"/ivf/user/importTemplate",method:"get",responseType:"arraybuffer"})},saveImportUser:function(t){return Object(n["a"])({url:"/ivf/user/importSave",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getReviewList:function(t){return Object(n["a"])({url:"/ivf/review/list",method:"post",data:t})},getProjectList:function(t){return Object(n["a"])({url:"/ivf/project/list",method:"post",data:t})},addProject:function(t){return Object(n["a"])({url:"/ivf/project/add",method:"post",data:t})},updateProject:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateProjectReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},deleteProject:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/delete",method:"post"})},getProjectDetail:function(t){return Object(n["a"])({url:"/ivf/project/"+t,method:"get"})},getProjectDetailReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/reviewing",method:"get"})},setProjectLock:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/lock",method:"post",data:t})},reviewPass:function(t){return Object(n["a"])({url:"/ivf/review/"+t+"/pass",method:"post"})},reviewReject:function(t){return Object(n["a"])({url:"/ivf/review/"+t+"/reject",method:"post"})},getReviewDetailPB:function(t){return Object(n["a"])({url:"/ivf/review/PB/"+t,method:"get"})},getProjectDynamic:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/dynamic",method:"post"})},updateProjectDynamic:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/dynamic/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateProjectDynamicReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/dynamic/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getProjectDynamicReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/dynamic/reviewing",method:"get"})},getReviewDetailPD:function(t){return Object(n["a"])({url:"/ivf/review/PD/"+t,method:"get"})},setProjectDynamicLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/dynamic/"+r+"/lock",method:"post",data:t})},getInvestUsers:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investUsers",method:"post",data:t})},updateInvestUsers:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investUsers/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateInvestUsersReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/investUsers/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getInvestUsersReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/investUsers/reviewing",method:"get"})},setInvestUserLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/investUser/"+r+"/lock",method:"post",data:t})},getReviewDetailPU:function(t){return Object(n["a"])({url:"/ivf/review/PU/"+t,method:"get"})},getPayment:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/payment",method:"post",data:t})},setPaymentLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/payment/"+r+"/lock",method:"post",data:t})},updatePayment:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/payment/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updatePaymentReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/payment/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getPaymentReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/payment/reviewing",method:"get"})},getReviewDetailPP:function(t){return Object(n["a"])({url:"/ivf/review/PP/"+t,method:"get"})},getRepayment:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/repayment",method:"post",data:t})},setRepaymentLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/repayment/"+r+"/lock",method:"post",data:t})},updateRepayment:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/repayment/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateRepaymentReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/repayment/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getRepaymentReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/repayment/reviewing",method:"get"})},getReviewDetailPR:function(t){return Object(n["a"])({url:"/ivf/review/PR/"+t,method:"get"})},getProfit:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/allocate",method:"post",data:t})},setProfitLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/allocate/"+r+"/lock",method:"post",data:t})},updateProfit:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/allocate/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateProfitReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/allocate/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getProfitReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/allocate/reviewing",method:"get"})},getProfitDetailPI:function(t){return Object(n["a"])({url:"/ivf/review/PI/"+t,method:"get"})},calculateProfit:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/allocate/calculate",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},paymentChecked:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/payment/check",method:"post",data:t})},repaymentChecked:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/repayment/calculate",method:"post",data:t})},importInvestUsersTemplate:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/investUsers/importTemplate",method:"get",responseType:"arraybuffer"})},getReviewDetailByType:function(t,e){return Object(n["a"])({url:"/ivf/review/"+t+"/"+e,method:"get"})},updateProjectState:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/updateProjectState",method:"post",data:t})},notifyPay:function(t){return Object(n["a"])({url:"/ivf/project/notifyPay",method:"post",data:t})},getAccountTypes:function(){return Object(n["a"])({url:"/ivf/common/accountTypes",method:"get"})},getRuleTree:function(){return Object(n["a"])({url:"/ivf/rule/ruleTree",method:"get"})},getRuleDetail:function(t){return Object(n["a"])({url:"/ivf/rule/"+t,method:"get"})},updateRule:function(t,e){return Object(n["a"])({url:"/ivf/rule/"+e+"/update",method:"post",data:t})},getProjectRuleList:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/rule/list",method:"get"})},getProjectRuleDetail:function(t,e){return Object(n["a"])({url:"/ivf/project/"+t+"/rule/"+e,method:"get"})},updateRulesMember:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/rule/"+r+"/updateMember",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateRulesQuota:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/rule/"+r+"/updateQuota",method:"post",data:t})},getIntentions:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects",method:"post",data:t})},addIntentions:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects/add",method:"post",data:t})},getInvestIntentionReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/investCollects/reviewing",method:"get"})},getReviewDetailPC:function(t){return Object(n["a"])({url:"/ivf/review/PC/"+t,method:"get"})},deleteIntention:function(t,e){return Object(n["a"])({url:"/ivf/project/"+t+"/investCollects/"+e+"/delete",method:"post"})},setInvestIntentionLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects/"+r+"/lock",method:"post",data:t})},getIntentionRecord:function(t,e){return Object(n["a"])({url:"/ivf/project/"+t+"/investCollects/"+e,method:"get"})},updateIntention:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects/"+r+"/update",method:"post",data:t})},launchIntentionNotice:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects/launch",method:"post",data:t})},getConfirmIntentionList:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/investCollects/confirmList",method:"get"})},confirmSubmitIntention:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects/confirmSubmit",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},revokeReview:function(t){return Object(n["a"])({url:"/ivf/review/"+t+"/revoke",method:"post"})},exportIntentionTemplate:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/investCollects/export",method:"get",responseType:"arraybuffer"})},importIntentionSave:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/investCollects/importSave",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getUserAccount:function(t,e){return Object(n["a"])({url:"/ivf/common/userAccount/"+e,method:"get",params:t})},exportPaymentTemplate:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/payment/export",method:"get",responseType:"arraybuffer"})},downloadPaymentTemplate:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/payment/downloadImportTemplate",method:"get",responseType:"arraybuffer"})},getReviewDetailRP:function(t){return Object(n["a"])({url:"/ivf/review/RP/"+t,method:"get"})},getReviewDetailRR:function(t){return Object(n["a"])({url:"/ivf/review/RR/"+t,method:"get"})},getReviewDetailRU:function(t){return Object(n["a"])({url:"/ivf/review/RU/"+t,method:"get"})},getRecoups:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups",method:"post",data:t})},setRecoupsLock:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups/"+r+"/lock",method:"post",data:t})},updateRecoups:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups/update",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateRecoupsReview:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups/update/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getRecoupsReviewing:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/recoups/reviewing",method:"get"})},getAllocateBatch:function(t){return Object(n["a"])({url:"/ivf/project/"+t+"/allocate/batch",method:"get"})},exportRecoupsExcel:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups/export",method:"post",data:t,responseType:"arraybuffer"})},submitRecoupsReview:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups/submitReview",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},confirmPayRecoups:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/recoups/confirmPay",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getRecoupsDetail:function(t,e){return Object(n["a"])({url:"/ivf/review/"+e+"/"+t,method:"get"})},initProjectContract:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/init",method:"get",params:t})},initContractDetail:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+t+"/contract/"+e,method:"get",params:r})},getInvestUserContract:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/investUser",method:"get",params:t})},addContractDocument:function(t,e,r){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/"+r,method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},createContract:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/create",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getContractDetail:function(t,e){return Object(n["a"])({url:"/ivf/project/"+t+"/contract/"+e,method:"get"})},getElectronicSignList:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/electronicSignList",method:"get",params:t})},createPhysicalContract:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/physicalUpload",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},getPhysicalSignList:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/physicalSignList",method:"get",params:t})},getApprovalList:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/approvalList",method:"post",data:t})},initTrustAgreement:function(t,e){return Object(n["a"])({url:"/ivf/project/"+e+"/contract/initTrustAgreement",method:"get",params:t})}}},9840:function(t,e,r){"use strict";r("6f11")},a985:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",[r("el-header",{staticClass:"header"},[r("div",{staticClass:"header-wrap"},[r("div",{staticClass:"title"},[r("i",{staticClass:"iconfont icon-liuchengpeizhi"}),t._v(" 跟投规则\n\t\t\t\t")])])]),r("el-main",{staticClass:"main approve-setting"},[r("el-row",{staticClass:"header-wrap"},[r("el-col",{attrs:{span:4}},[t._v("角色")]),r("el-col",{attrs:{span:4}},[t._v("最低跟投额度（人民币）")]),r("el-col",{attrs:{span:4}},[t._v("最低跟投额度（美元）")]),r("el-col",{attrs:{span:4}},[t._v("最高跟投比例")]),r("el-col",{attrs:{span:6}},[t._v("成员")]),r("el-col",{attrs:{span:2}},[t._v("操作")])],1),r("div",{staticClass:"body"},[t._l(t.menu,(function(e,n){return[r("el-row",{key:n,class:{"has-border":!e.showChildren},attrs:{gutter:10}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"title",on:{click:function(r){return t.setVisible(e)}}},[r("i",{staticClass:"iconfont",class:{"icon-shouqi4":!e.showChildren,"icon-gengduo":e.showChildren}}),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.projectType.name)+"（"+t._s(e.ruleList.length)+"）\n\t\t\t\t\t\t\t")])])],1),t._l(e.ruleList,(function(n){return[r("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showChildren,expression:"tab.showChildren"}],key:n.ruleId,staticClass:"detail",staticStyle:{height:"48px}"}},[r("el-col",{staticClass:"desc",attrs:{span:4}},[r("el-tooltip",{attrs:{content:n.ruleRole,placement:"top-start",effect:"dark"}},[r("span",[t._v(t._s(n.ruleRole))])]),t._v(" ")],1),r("el-col",{staticClass:"desc",attrs:{span:4}},[r("el-tooltip",{attrs:{content:n.minQuotaCny,placement:"top-start",effect:"dark"}},[r("span",[t._v(t._s(n.minQuotaCny))])]),t._v(" ")],1),r("el-col",{staticClass:"desc",attrs:{span:4}},[r("el-tooltip",{attrs:{content:n.minQuotaUsd,placement:"top-start",effect:"dark"}},[r("span",[t._v(t._s(n.minQuotaUsd))])]),t._v("\n                ")],1),r("el-col",{staticClass:"desc",attrs:{span:4}},[r("el-tooltip",{attrs:{content:n.maxQuota,placement:"top-start",effect:"dark"}},[r("span",[t._v(t._s(n.maxQuota))])]),t._v(" ")],1),r("el-col",{staticClass:"desc",attrs:{span:6}},[r("el-tooltip",{attrs:{content:n.roleMemberTips,placement:"top-start",effect:"dark"}},[r("span",[t._v(t._s(n.roleMemberTips))])]),t._v(" \n              ")],1),r("el-col",{staticClass:"desc",attrs:{span:2}},[r("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDialog(n)}}},[t._v("编辑")])],1)],1)]}))]}))],2)],1),r("el-dialog",{attrs:{visible:t.dialogVisible,width:"600px",top:"50px","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{attrs:{slot:"title"},slot:"title"},[r("div",{staticClass:"title"},[r("i",{staticClass:"iconfont icon-enterpirse"}),t._v(" 规则设置\n        ")]),r("div",{staticClass:"options"},[r("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){t.dialogVisible=!1}}})]),r("div",{staticClass:"clear"})]),r("div",{staticClass:"dialog-wrap"},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色"}},[t._v("\n            "+t._s(t.form.ruleRole)+"\n          ")]),r("el-form-item",{staticClass:"spe-label",attrs:{label:"最低跟投额度（人民币）"}},[t.detail.minQuotaCny&&t.detail.minQuotaCny.setByProject?r("span",[t._v(t._s(t.detail.minQuotaCny.remark))]):t._e(),t.detail.minQuotaCny&&!t.detail.minQuotaCny.setByProject?r("el-input",{model:{value:t.form.minQuotaCny,callback:function(e){t.$set(t.form,"minQuotaCny",e)},expression:"form.minQuotaCny"}},[r("template",{slot:"append"},[t._v(t._s(t.detail.minQuotaCny&&t.detail.minQuotaCny.type.unit))])],2):t._e()],1),r("el-form-item",{staticClass:"spe-label",attrs:{label:"最低跟投额度（美元）"}},[t.detail.minQuotaUsd&&t.detail.minQuotaUsd.setByProject?r("span",[t._v(t._s(t.detail.minQuotaUsd.remark))]):t._e(),t.detail.minQuotaUsd&&!t.detail.minQuotaUsd.setByProject?r("el-input",{model:{value:t.form.minQuotaUsd,callback:function(e){t.$set(t.form,"minQuotaUsd",e)},expression:"form.minQuotaUsd"}},[r("template",{slot:"append"},[t._v(t._s(t.detail.minQuotaUsd&&t.detail.minQuotaUsd.type.unit))])],2):t._e()],1),r("el-form-item",{attrs:{label:"最高跟投比例"}},[t.detail.maxQuota&&t.detail.maxQuota.setByProject?r("span",[t._v(t._s(t.detail.maxQuota.remark))]):t._e(),t.detail.maxQuota&&!t.detail.maxQuota.setByProject?r("el-input",{model:{value:t.form.maxQuota,callback:function(e){t.$set(t.form,"maxQuota",e)},expression:"form.maxQuota"}},[r("template",{slot:"append"},[t._v("%")])],2):t._e()],1),r("el-form-item",{attrs:{label:"成员"}},[t.detail.ruleMember&&t.detail.ruleMember.setByProject?r("span",[t._v(t._s(t.detail.ruleMember.remark))]):t._e(),t.detail.ruleMember&&!t.detail.ruleMember.setByProject?r("user-select",{attrs:{users:t.form.ruleMembers,invest:!0},on:{SET_USERS:function(e){t.form.ruleMembers=e}}}):t._e()],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])],1)},a=[],o=r("9090"),i=r("328f"),s={components:{userSelect:i["a"]},computed:{},data:function(){return{baseAPI:"https://dev-api.cgvcap.com",menu:[],form:{},detail:{},dialogVisible:!1}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;o["a"].getRuleTree().then((function(e){t.menu=e.data.map((function(t){return t.showChildren=!1,t.ruleList.map((function(t){return t.roleMemberTips="",t.roleMember&&t.roleMember.userList&&t.roleMember.userList.length>0&&(t.roleMember.userList.map((function(e){t.roleMemberTips=t.roleMemberTips+e.userName+"、"})),t.roleMemberTips.length>0&&(t.roleMemberTips=t.roleMemberTips.substring(0,t.roleMemberTips.length-1))),t.roleMemberTips=t.roleMember.setByProject?t.roleMember.remark:t.roleMemberTips,t})),t}))}))},setVisible:function(t){t.showChildren=!t.showChildren},showDialog:function(t){var e=this;this.form={},o["a"].getRuleDetail(t.ruleId).then((function(t){t&&200===t.code&&(e.detail=t.data,e.form={ruleRole:t.data.ruleRole,maxQuota:t.data.maxQuota.value,minQuotaCny:t.data.minQuotaCny.value,minQuotaUsd:t.data.minQuotaUsd.value,ruleId:t.data.ruleId,ruleMembers:t.data.ruleMember.userList},e.dialogVisible=!0)}))},save:function(){var t=this,e={};this.detail.maxQuota.setByProject||(e.maxQuota=this.form.maxQuota),this.detail.minQuotaCny.setByProject||(e.minQuotaCny=this.form.minQuotaCny),this.detail.minQuotaUsd.setByProject||(e.minQuotaUsd=this.form.minQuotaUsd),this.detail.ruleMember.setByProject||(e.ruleMemberIds=function(){var e=[];return t.form.ruleMembers.map((function(t){e.push(t.id||t.userId)})),e}()),o["a"].updateRule(e,this.form.ruleId).then((function(e){e&&200===e.code&&(t.dialogVisible=!1,t.$message.success({message:"编辑成功！",duration:1500}),t.getList())}))}}},c=s,u=(r("2403"),r("9840"),r("4ac2")),l=Object(u["a"])(c,n,a,!1,null,"5061bbf9",null);e["default"]=l.exports},bfe1:function(t,e,r){}}]);