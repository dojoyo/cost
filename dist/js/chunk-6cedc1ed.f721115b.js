(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cedc1ed","chunk-2d22c102"],{"0fb4":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",{staticClass:"header"},[n("div",{staticClass:"header-wrap"},[n("div",{staticClass:"title gray"},[n("i",{staticClass:"iconfont icon-yingyongzhongxin_normal gray fs-32"}),e._v(" 发版记录\n      ")]),n("div",{staticClass:"fr"},[n("el-button",{staticClass:"mr-10",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.getDetail()}}},[e._v("新建")])],1)])]),n("el-main",{staticClass:"main"},[e.list&&e.list.length>0?n("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.list,"header-cell-style":{background:"#fdfdfd"}}},[n("el-table-column",{attrs:{label:"主题",prop:"versionTheme"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.versionTheme)+"\n        ")]}}],null,!1,1350148950)}),n("el-table-column",{attrs:{label:"适用平台",prop:"platform"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.platform,(function(i,s){return n("span",{key:s},[e._v("\n            "+e._s(i)),n("span",{directives:[{name:"show",rawName:"v-show",value:s<t.row.platform.length-1,expression:"index<(scope.row.platform.length-1)"}]},[e._v("、")])])}))}}],null,!1,2542112636)}),n("el-table-column",{attrs:{prop:"versionNo",label:"版本号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.versionNo)+"\n        ")]}}],null,!1,1678378438)}),n("el-table-column",{attrs:{prop:"infoState.name",label:"创建时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.createTime)+"\n        ")]}}],null,!1,4033566892)}),n("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(i){return e.getDetail(t.row.versionId)}}},[e._v("修改")]),n("span",{staticStyle:{padding:"0 10px"}},[e._v("|")]),n("el-button",{attrs:{type:"text"},on:{click:function(i){return e.deleteList(t.row)}}},[e._v("删除")])]}}],null,!1,3064143658)})],1):e._e(),n("div",{staticClass:"txt-right"},[e.list&&e.list.length>0?n("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.list&&0===e.list.length,expression:"list && list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:i("f244")}}),n("br"),n("span",{staticStyle:{"font-size":"14px"}},[e._v("暂无数据")]),n("br"),n("br")])],1),n("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:e.dialogVisible,width:"840px","show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[n("div",{staticClass:"title"},[n("i",{staticClass:"iconfont icon-zhishiguanli primary"}),e._v(" "+e._s(e.form.appId?"编辑":"新建")+"应用\n      ")]),n("div",{staticClass:"options"},[n("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){e.dialogVisible=!1}}})]),n("div",{staticClass:"clear"})]),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.form.loading,expression:"form.loading"}],ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px","element-loading-text":"文件上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("el-form-item",{attrs:{label:"版本号",prop:"versionNo",rules:{required:!0,message:"请输入版本号"}}},[n("el-input",{attrs:{placeholder:"请输入版本号"},model:{value:e.form.versionNo,callback:function(t){e.$set(e.form,"versionNo",t)},expression:"form.versionNo"}})],1),n("el-form-item",{attrs:{label:"发版主题",prop:"versionTheme",rules:{required:!0,message:"请输入发版主题"}}},[n("el-input",{attrs:{placeholder:"请输入发版主题"},model:{value:e.form.versionTheme,callback:function(t){e.$set(e.form,"versionTheme",t)},expression:"form.versionTheme"}})],1),n("el-form-item",{attrs:{label:"发版描述",prop:"versionDescription",rules:{required:!0,message:"请输入发版描述"}}},[n("el-input",{attrs:{placeholder:"请输入发版描述",type:"textarea",rows:5},model:{value:e.form.versionDescription,callback:function(t){e.$set(e.form,"versionDescription",t)},expression:"form.versionDescription"}})],1),n("el-form-item",{attrs:{label:"适用平台",prop:"resCode"}},[n("el-checkbox-group",{model:{value:e.form.versionPlatforms,callback:function(t){e.$set(e.form,"versionPlatforms",t)},expression:"form.versionPlatforms"}},[n("el-checkbox",{attrs:{label:"Android"}}),n("el-checkbox",{attrs:{label:"IOS"}})],1)],1),n("el-form-item",{attrs:{label:""}},[n("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.save()}}},[e._v("保存")]),n("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)])],1)],1)],1)},s=[],o=i("b775"),a={getEnum:function(e){return Object(o["a"])({url:"/enum/"+e,method:"get"})},getList:function(e){return Object(o["a"])({url:"/mp/admin/version/list",method:"get",params:e})},addList:function(e){return Object(o["a"])({url:"/mp/admin/version/create",method:"post",data:e})},editList:function(e,t){return Object(o["a"])({url:"/mp/admin/version/"+t+"/edit",method:"post",data:e})},getDetail:function(e){return Object(o["a"])({url:"/mp/admin/version/"+e+"/view",method:"get"})},deleteList:function(e){return Object(o["a"])({url:"/mp/admin/version/"+e+"/delete",method:"post"})}},r={components:{},computed:{},data:function(){return{enumType:{MpAppGroupType:[]},list:[],pageSize:10,pageNum:1,total:0,form:{versionNo:"",versionTheme:"",versionDescription:"",versionPlatforms:[]},dialogVisible:!1}},mounted:function(){this.getList()},methods:{getEnum:function(e,t){var i=this;a.getEnum(e).then((function(n){200===n.code&&(t&&n.data.unshift({name:"全部",value:""}),i.$set(i.enumType,e,n.data))})).catch((function(e){console.log(e)}))},getList:function(e){var t=this;this.pageNum=e?1:this.pageNum;var i={pageNum:this.pageNum,pageSize:this.pageSize};a.getList(i).then((function(e){200===e.code&&(t.list=e.data.list,t.total=e.data.total)})).catch((function(e){console.log(e)}))},handleCurrentChange:function(e){this.pageNum=e,this.getList()},handleSizeChange:function(e){this.pageSize=e,this.pageNum=1,this.getList()},getDetail:function(e){var t=this;e?a.getDetail(e).then((function(i){200===i.code&&(t.form.versionDescription=i.data.versionDescription,t.form.versionNo=i.data.versionNo,t.form.versionPlatforms=i.data.versionPlatforms||[],t.form.versionTheme=i.data.versionTheme,t.form.versionId=e,t.dialogVisible=!0)})).catch((function(e){console.log(e)})):(this.form={versionNo:"",versionTheme:"",versionDescription:"",versionPlatforms:[]},this.dialogVisible=!0)},save:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var i={versionDescription:e.form.versionDescription,versionNo:e.form.versionNo,versionPlatforms:e.form.versionPlatforms,versionTheme:e.form.versionTheme};e.form.versionId?a.editList(i,e.form.versionId).then((function(t){200===t.code&&(e.$message.success({message:"编辑成功!",duration:1500}),e.dialogVisible=!1,e.getList())})).catch((function(e){console.log(e)})):a.addList(i).then((function(t){200===t.code&&(e.$message.success({message:"新建成功!",duration:1500}),e.dialogVisible=!1,e.getList())})).catch((function(e){console.log(e)}))}}))},deleteList:function(e){var t=this;this.$confirm("即将《"+e.versionTheme+"》，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteList(e.versionId).then((function(e){200===e.code&&(t.$message.success({message:"删除成功！",duration:1500}),t.getList())})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}}},l=r,c=i("4ac2"),u=Object(c["a"])(l,n,s,!1,null,"0ed9b7f4",null);t["default"]=u.exports},f244:function(e,t){e.exports="data:image/png;base64,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"}}]);