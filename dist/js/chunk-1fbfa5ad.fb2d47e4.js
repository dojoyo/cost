(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fbfa5ad"],{4306:function(t,a,i){},4589:function(t,a,i){"use strict";i("4306")},ea62:function(t,a,i){t.exports=i.p+"img/app.e99e1fe0.png"},f1fa:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("el-container",[i("el-header",{staticClass:"header"},[i("div",{staticClass:"header-wrap"},[i("div",{staticClass:"title gray"},[i("i",{staticClass:"iconfont icon-houtaizonglan gray fs-32"}),t._v(" 控制台\n      ")])])]),i("el-main",{staticClass:"main"},[i("el-row",[i("el-col",{staticClass:"flex",staticStyle:{"line-height":"32px"},attrs:{span:18}},[t.avatar?i("avatar",{attrs:{user:t.avatar}}):t._e(),i("span",{staticClass:"gray ml-10"},[t._v(t._s(t.avatar.avatar)+"欢迎使用凤翎办公协作平台，您现在所在的是 凤翎办公协作平台 的系统管理后台。")])],1),i("el-col",{staticClass:"txt-right gray",attrs:{span:6}},[t._v("\n        上次登录："+t._s(t._f("DateTime")(t.avatar.gt))+"\n      ")])],1),i("el-row",{staticClass:"mt-15"},[i("el-col",{staticClass:"txt-center",attrs:{span:6,offset:1}},[i("div",{staticClass:"fs-16 primary w-100p"},[i("strong",[t._v("账号")])]),i("div",{staticClass:"w-100p",staticStyle:{height:"200px"},attrs:{id:"pie"}}),i("div",{staticClass:"w-100p gray"},[t._v("已登录使用数："+t._s(t.loginInfo.loginCount)),i("br"),t._v("入驻账户总数："+t._s(t.loginInfo.userCount))])]),i("el-col",{attrs:{span:12,offset:3}},[i("div",{staticClass:"fs-16 primary"},[i("strong",[t._v("最近一周用户登录数")])]),i("div",{staticStyle:{height:"250px"},attrs:{id:"bar"}})])],1),i("el-row",{staticStyle:{"margin-top":"30px"}},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"fs-16 primary w-100p"},[i("strong",[t._v("应用中心")])]),i("div",[i("img",{staticStyle:{"max-width":"100%","margin-top":"20px"},attrs:{src:t.imgUrl}})])]),i("el-col",{attrs:{span:9,offset:3}},[i("div",{staticClass:"fs-16 primary w-100p"},[i("strong",[t._v("客户端")])]),i("div",[i("div",{staticClass:"app-btn",staticStyle:{background:"#118EEA"}},[i("i",{staticClass:"iconfont icon-web",staticStyle:{"margin-left":"20px","margin-right":"10px","font-size":"32px"}}),t._v("进入Web版\n          ")]),i("div",{staticClass:"app-btn",staticStyle:{background:"#50B674"}},[i("i",{staticClass:"iconfont icon-xiaochengxu",staticStyle:{"margin-left":"20px","margin-right":"10px","font-size":"32px"}}),t._v("微信小程序\n          ")]),i("div",{staticClass:"app-btn",staticStyle:{background:"#D2D2D2"}},[i("i",{staticClass:"iconfont icon-iphone",staticStyle:{"margin-left":"20px","margin-right":"10px","font-size":"32px"}}),t._v("iPhone应用\n          ")]),i("div",{staticClass:"app-btn",staticStyle:{background:"#D2D2D2"}},[i("i",{staticClass:"iconfont icon-anzhuo",staticStyle:{"margin-left":"20px","margin-right":"10px","font-size":"32px"}}),t._v("Android应用\n          ")]),i("div",{staticClass:"app-btn",staticStyle:{background:"#D2D2D2"}},[i("i",{staticClass:"iconfont icon-macos",staticStyle:{"margin-left":"20px","margin-right":"10px","font-size":"32px"}}),t._v("MacOS客户端\n          ")]),i("div",{staticClass:"app-btn",staticStyle:{background:"#D2D2D2"}},[i("i",{staticClass:"iconfont icon-windows",staticStyle:{"margin-left":"20px","margin-right":"10px","font-size":"32px"}}),t._v("Windows客户端\n          ")])])])],1)],1)],1)},n=[],s=i("7150"),o=i("7b7b"),r=i("b775"),l={dashboard:function(){return Object(r["a"])({url:"/admin/dashboard/",method:"get"})},loginChart:function(){return Object(r["a"])({url:"/admin/dashboard/loginChart",method:"get"})}},c={components:{avatar:s["a"]},computed:{user:function(){return this.$store.getters.user}},data:function(){return{avatar:"",imgUrl:i("ea62"),loginInfo:{loginCount:0,userCount:0}}},mounted:function(){var t=this;this.avatar={userAvatar:this.user.user.jwtClaims.ua,userId:this.user.user.jwtClaims.id,userName:this.user.user.jwtClaims.un,gt:this.user.user.jwtClaims.gt},l.dashboard().then((function(a){200===a.code&&(t.loginInfo=a.data,t.setPie(a.data))})).catch((function(t){console.log(t)})),l.loginChart().then((function(a){200===a.code&&t.setBar(a.data)})).catch((function(t){console.log(t)}))},methods:{setPie:function(t){var a=o["a"].init(document.getElementById("pie")),i={color:["#FF953F","#eee"],tooltip:{show:!0,trigger:"item",formatter:"{b}: {c} ({d}%)"},series:[{name:"",type:"pie",radius:["60%","80%"],avoidLabelOverlap:!1,legendHoverLink:!1,silent:!0,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:t.loginCount,name:"已登录",hoverAnimation:!1,label:{normal:{rich:{a:{color:"#ccc",align:"center",fontSize:12,fontWeight:"bold"},b:{color:"#ccc",align:"center",fontSize:40,lineHeight:60},c:{color:"#ccc",align:"center",fontSize:14,borderColor:"#ccc",borderWidth:1,borderRadius:3,padding:[3,8,3,8]}},formatter:function(t){return"\n{a|已登录}\n{b|"+t.value+"个}"},position:"center",show:!0,textStyle:{fontSize:"14",fontWeight:"normal",color:"#fff"}}}},{value:t.userCount-t.loginCount,name:"未登录",hoverAnimation:!1}]}]};a.setOption(i)},setBar:function(t){var a=o["a"].init(document.getElementById("bar")),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"15%",right:"3%",left:"5%",bottom:"12%"},xAxis:[{type:"category",data:function(){var a=[];for(var i in t)a.push(t[i].date);return a}(),axisLine:{lineStyle:{color:"rgba(255,255,255,0.12)"}},axisLabel:{margin:10,color:"#48525C",textStyle:{fontSize:14}}}],yAxis:[{show:!1,axisLabel:{formatter:"{value}",color:"#e2e9ff"},axisLine:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.12)"}}}],series:[{type:"bar",data:function(){var a=[];for(var i in t)a.push(t[i].count);return a}(),barWidth:"20px",itemStyle:{normal:{color:new o["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(233,157,96,1)"},{offset:1,color:"rgba(255,149,63,1)"}],!1),barBorderRadius:[30,30,30,30]}},label:{normal:{show:!0,position:"inside"}}}]};a.setOption(i)}}},p=c,g=(i("4589"),i("4ac2")),d=Object(g["a"])(p,e,n,!1,null,"1cbf737f",null);a["default"]=d.exports}}]);