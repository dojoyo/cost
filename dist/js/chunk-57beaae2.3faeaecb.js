(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57beaae2","chunk-2d2082c4"],{"26aa":function(t,e,a){"use strict";var n=a("b775");e["a"]={getEnum:function(t){return Object(n["a"])({url:"/enum/"+t,method:"get"})},deptTree:function(t){return Object(n["a"])({url:"/admin/dept/tree",method:"get",params:t})},deptAdd:function(t){return Object(n["a"])({url:"/admin/dept/add",method:"post",data:t})},deptDelete:function(t){return Object(n["a"])({url:"/admin/dept/"+t+"/delete",method:"post"})},deptDetail:function(t){return Object(n["a"])({url:"/admin/dept/"+t+"/detail",method:"post"})},deptEdit:function(t,e){return Object(n["a"])({url:"/admin/dept/"+e+"/edit",method:"post",data:t})},deptMembers:function(t,e){return Object(n["a"])({url:"/admin/dept/"+e+"/moveUsers",method:"post",data:t})},deptMove:function(t,e){return Object(n["a"])({url:"/admin/dept/"+e+"/move",method:"post",data:t})},deptRename:function(t,e){return Object(n["a"])({url:"/admin/dept/"+e+"/rename",method:"post",data:t})},userAdd:function(t){return Object(n["a"])({url:"/admin/user/add",method:"post",data:t})},userImportTemplate:function(t){return Object(n["a"])({url:"/admin/user/importTemplate",method:"post",data:t,responseType:"arraybuffer"})},saveUserImport:function(t){return Object(n["a"])({url:"/admin/user/batchImport/save",method:"post",data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})},exportMembers:function(){return Object(n["a"])({url:"/admin/user/batchExport",method:"post",responseType:"arraybuffer"})},userList:function(t){return Object(n["a"])({url:"/admin/user/list",method:"post",data:t})},userSearch:function(t){return Object(n["a"])({url:"/contacts/userSearch",method:"get",params:t})},userTeam:function(t){return Object(n["a"])({url:"/admin/user/team",method:"post",data:t})},userDept:function(t){return Object(n["a"])({url:"/admin/dept/users",method:"get",params:t})},userDeptTree:function(t){return Object(n["a"])({url:"/contacts/deptUserTree",method:"get",params:t})},userDisableList:function(t){return Object(n["a"])({url:"/admin/user/disabled/page",method:"post",data:t})},userDetail:function(t){return Object(n["a"])({url:"/admin/user/"+t,method:"get"})},userEdit:function(t,e){return Object(n["a"])({url:"/admin/user/"+e+"/edit",method:"post",data:t})},userDisable:function(t){return Object(n["a"])({url:"/admin/user/"+t+"/disable",method:"post"})},userEnable:function(t){return Object(n["a"])({url:"/admin/user/"+t+"/enable",method:"post"})},userResetPwd:function(t,e){return Object(n["a"])({url:"/admin/user/"+e+"/resetPwd",method:"post",data:t})},userAccountResetPwd:function(t){return Object(n["a"])({url:"/account/modify/password",method:"post",data:t})},jobsList:function(){return Object(n["a"])({url:"/admin/position/list",method:"post"})},jobsAdd:function(t){return Object(n["a"])({url:"/admin/position/add",method:"post",data:t})},jobsDelete:function(t){return Object(n["a"])({url:"/admin/position/"+t+"/delete",method:"post"})},jobsEdit:function(t,e){return Object(n["a"])({url:"/admin/position/"+e+"/edit",method:"post",data:t})},jobsMove:function(t,e){return Object(n["a"])({url:"/admin/position/"+e+"/sort",method:"post",data:t})},getInvestUser:function(t){return Object(n["a"])({url:"/ivf/user/list",method:"post",data:t})},getInvestDept:function(t){return Object(n["a"])({url:t||"/ivf/common/userTree",method:"get"})}}},"435e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header"},[a("div",{staticClass:"header-wrap"},[a("div",{staticClass:"title gray"},[a("i",{staticClass:"iconfont icon-chengyuanjianbao gray fs-32"}),t._v(" 成员管理\n      ")]),a("div",{staticClass:"tabs"},[a("span",{staticClass:"item",on:{click:function(e){return t.$router.push({path:"/system/members"})}}},[t._v("企业成员")]),a("span",{staticClass:"item active"},[t._v("职位")]),a("span",{staticClass:"item",on:{click:function(e){return t.$router.push({path:"/system/members-disable"})}}},[t._v("已禁账号")])])])]),a("el-main",{staticClass:"main"},[a("el-row",[a("el-col",{staticStyle:{"border-bottom":"solid #eee 2px",height:"50px"},attrs:{span:24}},[a("el-button",{staticClass:"fr",attrs:{type:"primary",size:"mini",round:""},on:{click:function(e){t.jobsOperation.add.dialogVisible=!0}}},[t._v("添加职位")])],1),a("el-col",{attrs:{span:24}},[t.jobs&&t.jobs.length>0?a("el-table",{staticClass:"w-100p",attrs:{data:t.jobs,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{width:"150",label:"","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.$index+1)+"\n            ")]}}],null,!1,2812062361)}),a("el-table-column",{attrs:{prop:"name",label:"职位名称","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",width:"300",label:"操作","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.operate(e.$index,"edit")}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small",disabled:0===e.$index},nativeOn:{click:function(a){return a.preventDefault(),t.operate(e.$index,"up")}}},[t._v("上移")]),a("el-button",{attrs:{type:"text",size:"small",disabled:e.$index===t.jobs.length-1},nativeOn:{click:function(a){return a.preventDefault(),t.operate(e.$index,"down")}}},[t._v("下移")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.operate(e.$index,"delete")}}},[t._v("删除")])]}}],null,!1,660062927)})],1):t._e(),t.jobs&&0===t.jobs.length?a("div",{staticClass:"w-100p gray",staticStyle:{"text-align":"center","margin-top":"30px"}},[a("i",{staticClass:"iconfont icon-members",staticStyle:{"font-size":"140px"}}),a("br"),a("span",{staticStyle:{"font-size":"18px"}},[t._v("暂无数据")]),a("br"),a("br")]):t._e()],1)],1)],1),a("el-dialog",{attrs:{visible:t.jobsOperation.add.dialogVisible,width:"50%","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.jobsOperation.add,"dialogVisible",e)}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont icon-members"}),t._v(" 添加职位\n      ")]),a("div",{staticClass:"options"},[a("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){t.jobsOperation.add.dialogVisible=!1}}})]),a("div",{staticClass:"clear"})]),a("div",{staticClass:"dialog-wrap"},[a("el-form",{ref:"jobsOperation.add.form",attrs:{model:t.jobsOperation.add.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"职位名称",prop:"name",rules:{required:!0,message:"请填写职位名称",trigger:"blur"}}},[a("el-input",{model:{value:t.jobsOperation.add.form.name,callback:function(e){t.$set(t.jobsOperation.add.form,"name",e)},expression:"jobsOperation.add.form.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.createJobs("jobsOperation.add.form")}}},[t._v("立即创建")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.jobsOperation.add.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)]),a("el-dialog",{attrs:{visible:t.jobsOperation.edit.dialogVisible,width:"50%","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.jobsOperation.edit,"dialogVisible",e)}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont icon-members"}),t._v(" 编辑职位\n      ")]),a("div",{staticClass:"options"},[a("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){t.jobsOperation.edit.dialogVisible=!1}}})]),a("div",{staticClass:"clear"})]),a("div",{staticClass:"dialog-wrap"},[a("el-form",{ref:"jobsOperation.edit.form",attrs:{model:t.jobsOperation.edit.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"职位名称",prop:"name",rules:{required:!0,message:"请填写职位名称",trigger:"blur"}}},[a("el-input",{model:{value:t.jobsOperation.edit.form.name,callback:function(e){t.$set(t.jobsOperation.edit.form,"name",e)},expression:"jobsOperation.edit.form.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.editJobs("jobsOperation.edit.form")}}},[t._v("保存")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.jobsOperation.edit.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)])],1)},i=[],s=(a("a450"),a("26aa")),o={components:{},computed:{},data:function(){return{jobs:"",jobsOperation:{add:{dialogVisible:!1,form:{}},edit:{dialogVisible:!1,form:{}}}}},mounted:function(){this.getJobs()},methods:{getJobs:function(){var t=this;s["a"].jobsList().then((function(e){200===e.code&&(t.jobs=e.data)})).catch((function(e){t.$message.error({message:JSON.stringify(e),duration:1500})}))},createJobs:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var a={name:e.jobsOperation.add.form.name};s["a"].jobsAdd(a).then((function(t){200===t.code&&(e.$message.success({message:"创建职位成功！",duration:1500}),e.getJobs(),e.jobsOperation.add.dialogVisible=!1)})).catch((function(t){e.$message.error({message:JSON.stringify(t),duration:1500})}))}}))},editJobs:function(t){var e=this;this.$refs[t].validate((function(t){t&&s["a"].jobsEdit({name:e.jobsOperation.edit.form.name},e.jobsOperation.edit.form.code).then((function(t){200===t.code&&(e.getJobs(),e.$message.success({message:"职位编辑成功！",duration:1500}),e.jobsOperation.edit.dialogVisible=!1)})).catch((function(t){e.$message.error({message:JSON.stringify(t),duration:1500})}))}))},deleteJobs:function(t){var e=this;s["a"].jobsDelete(t).then((function(t){200===t.code&&(e.getJobs(),e.$message.success({message:"职位删除成功！",duration:1500}))})).catch((function(t){e.$message.error({message:JSON.stringify(t),duration:1500})}))},moveJobs:function(t,e){var a=this;s["a"].jobsMove({toCode:e},t).then((function(t){200===t.code&&(a.getJobs(),a.$message.success({message:"职位移动成功！",duration:1500}))})).catch((function(t){a.$message.error({message:JSON.stringify(t),duration:1500})}))},operate:function(t,e){var a=this;switch(e){case"edit":this.jobsOperation.edit={dialogVisible:!0,form:{name:this.jobs[t].name,code:this.jobs[t].code}};break;case"up":this.moveJobs(this.jobs[t].code,this.jobs[t-1].code);break;case"down":this.moveJobs(this.jobs[t].code,this.jobs[t+1].code);break;case"delete":this.$confirm("是否删除职位"+this.jobs[t].name+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteJobs(a.jobs[t].code)})).catch((function(t){}));break}}}},r=o,c=a("4ac2"),d=Object(c["a"])(r,n,i,!1,null,null,null);e["default"]=d.exports},a450:function(t,e,a){var n=a("bb8b").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in i||a("26df")&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})}}]);