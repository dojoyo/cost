(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e69765bc"],{"0030":function(t,e,a){},"14a5":function(t,e,a){"use strict";a("c0d6"),a("1619");var i={};i.remove=function(){},i.set=function(t){},e["a"]=i},"241b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"w-100p flex"},[i("el-input",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{size:"medium",placeholder:"搜索新闻标题"},on:{input:function(e){return t.getList(!0)}},model:{value:t.search.filter,callback:function(e){t.$set(t.search,"filter",e)},expression:"search.filter"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),i("el-select",{staticStyle:{"margin-right":"auto"},attrs:{placeholder:"状态"},on:{change:function(e){return t.getList(!0)}},model:{value:t.search.fundraisingState,callback:function(e){t.$set(t.search,"fundraisingState",e)},expression:"search.fundraisingState"}},t._l(t.enumType.FundraisingState,(function(t){return i("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1),i("el-button",{staticStyle:{"margin-right":"0px"},attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.getTeamDetail()}}},[t._v("新建\n    ")])],1),i("div",{staticClass:"w-100p"},[t.team.list&&t.team.list.length>0?i("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.team.list,"header-cell-style":{background:"#fdfdfd"}}},[i("el-table-column",{attrs:{prop:"title",label:"投资人"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{width:"50px",height:"50px","border-radius":"50%",background:"#eee","margin-right":"10px"}},[i("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.row.avatar}})]),i("div",{staticStyle:{width:"80px","margin-right":"10px"}},[i("strong",[t._v(t._s(e.row.investorName))]),i("br"),i("span",[t._v(t._s(e.row.position))])]),i("div",{staticStyle:{width:"calc(100% - 150px)"}},[t._v(t._s(e.row.summary))])])]}}],null,!1,1442079446)}),i("el-table-column",{attrs:{prop:"createTime",label:"关联基金",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"table-row-div"},t._l(e.row.funds,(function(a,s){return i("span",{key:s},[t._v(t._s(a.fundName)+t._s(s+1===e.row.funds.length?"":"、"))])})),0)]}}],null,!1,1591548634)}),i("el-table-column",{attrs:{prop:"investorState.name",label:"状态",width:"80"}}),i("el-table-column",{attrs:{label:"LP查看权限",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"table-row-div"},t._l(e.row.grantLps,(function(a,s){return i("span",{key:s},[t._v(t._s(a.lpName)+t._s(s+1===e.row.grantLps.length?"":"、"))])})),0)]}}],null,!1,3908228159)}),i("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right","header-align":"center",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.setTeamStatus(e.row)}}},[t._v(t._s(e.row.investorState&&"DW"===e.row.investorState.value?"上架":"下架")+"\n          ")]),i("span",{staticStyle:{padding:"0 10px"}},[t._v("|")]),i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link pointer"},[t._v("\n            更多"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(a){return t.setTeamRight(e.row)}}},[t._v("授权")]),i("el-dropdown-item",{nativeOn:{click:function(a){return t.getTeamDetail(e.row.teamId)}}},[t._v("编辑")]),i("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteTeam(e.row)}}},[t._v("删除")])],1)],1)]}}],null,!1,1885764012)})],1):t._e(),i("div",{staticClass:"txt-right"},[t.team.list&&t.team.list.length>0?i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.team.pageNum,"page-sizes":[5,10,20],"page-size":t.team.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.team.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.team.list&&0===t.team.list.length,expression:"team.list && team.list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:a("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[t._v("暂无数据")]),i("br"),i("br")])],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:t.team.detail.dialogVisible,width:"850px","show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.team.detail,"dialogVisible",e)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu"}),t._v(" "+t._s(t.team.detail.teamId?"编辑":"新建")+" - 投资人\n      ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideTeamDetailView()}}})]),i("div",{staticClass:"clear"})]),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"team.detail",staticStyle:{"margin-top":"20px"},attrs:{model:t.team.detail,"label-width":"80px"}},[i("div",{staticStyle:{width:"48%",float:"left"}},[i("el-form-item",{attrs:{label:"姓名",prop:"investorName",rules:{required:!0,message:"请输入姓名"}}},[i("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.team.detail.investorName,callback:function(e){t.$set(t.team.detail,"investorName",e)},expression:"team.detail.investorName"}})],1),i("el-form-item",{attrs:{label:"职位",prop:"position",rules:{required:!0,message:"请输入职位"}}},[i("el-input",{attrs:{placeholder:"请输入职位"},model:{value:t.team.detail.position,callback:function(e){t.$set(t.team.detail,"position",e)},expression:"team.detail.position"}})],1),i("el-form-item",{attrs:{label:"介绍",prop:"summary",rules:{required:!0,message:"请输入介绍"}}},[i("el-input",{attrs:{placeholder:"请输入介绍",type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.team.detail.summary,callback:function(e){t.$set(t.team.detail,"summary",e)},expression:"team.detail.summary"}})],1)],1),i("div",{staticStyle:{width:"48%","margin-left":"4%",float:"left"}},[i("el-form-item",{attrs:{label:"头像",prop:"avatar",rules:{required:!0,message:"请上传封面图片"}}},[i("el-upload",{ref:"upload",attrs:{action:t.uploadURL,headers:t.headers,limit:1,"show-file-list":!1,"on-change":t.onChangeFile}},[t.team.detail.avatar?i("img",{staticStyle:{height:"150px",border:"dashed 1px #ccc","border-radius":"7px"},attrs:{src:t.team.detail.avatar}}):t._e(),t.team.detail.avatar?t._e():i("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a("d1da")}})])],1)],1),i("div",{staticClass:"clear"}),i("el-form-item",{attrs:{label:"关联基金",prop:"fund"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.team.detail.fundIds,callback:function(e){t.$set(t.team.detail,"fundIds",e)},expression:"team.detail.fundIds"}},t._l(t.fundList,(function(t){return i("el-option",{key:t.fundId,attrs:{label:t.fundAbbr,value:t.fundId}})})),1)],1),i("el-form-item",{attrs:{label:""}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submit()}}},[t._v("确认")]),i("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){return t.hideTeamDetailView()}}},[t._v("取消")])],1)])],1)],1)],1)],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:t.team.right.dialogVisible,width:"850px","show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.team.right,"dialogVisible",e)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu"}),t._v(" 授权 - 新闻动态\n      ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideTeamRightView()}}})]),i("div",{staticClass:"clear"})]),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"team.right",staticStyle:{"margin-top":"20px"},attrs:{model:t.team.right,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"文档名",prop:"bizName"}},[i("el-input",{attrs:{disabled:""},model:{value:t.team.right.bizName,callback:function(e){t.$set(t.team.right,"bizName",e)},expression:"team.right.bizName"}})],1),i("el-form-item",{attrs:{label:"LP查看权限",prop:"title"}},t._l(t.team.right.lpList,(function(e,a){return i("el-checkbox",{key:a,attrs:{label:e.lpName},model:{value:e.granted,callback:function(a){t.$set(e,"granted",a)},expression:"item.granted"}})})),1),i("el-form-item",{attrs:{label:""}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submitTeamRight()}}},[t._v("确认")]),i("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){return t.hideTeamRightView()}}},[t._v("取消")])],1)])],1)],1)],1)],1)],1)},s=[],n=(a("d91d"),a("0fea")),l={components:{},props:{},data:function(){return{enumType:{FundraisingState:[]},fundList:[],search:{filter:"",fundraisingState:""},team:{pageSize:10,pageNum:1,total:0,list:[],detail:{dialogVisible:!1},right:{title:"",list:[],dialogVisible:!1}},baseAPI:"https://dev-api.cgvcap.com",uploadURL:"https://dev-api.cgvcap.com/fundraising/portal/team/img/upload",headers:{Authorization:"Bearer "+this.$store.state.user.user.token}}},mounted:function(){this.getEnum("FundraisingState",!0),this.getFundList()},methods:{getEnum:function(t,e){var a=this;n["a"].getEnum(t).then((function(i){200===i.code&&(e&&i.data.unshift({name:"全部",value:""}),a.$set(a.enumType,t,i.data))})).catch((function(t){console.log(t)}))},getList:function(t){var e=this;this.team.pageNum=t?1:this.team.pageNum;var a={filter:this.search.filter,pageNum:this.team.pageNum,pageSize:this.team.pageSize,investorState:this.search.fundraisingState||""};n["a"].getTeamList(a).then((function(t){200===t.code&&t.data&&(e.team.list=t.data.list,e.team.total=t.data.total)})).catch((function(t){console.log(t)}))},getFundList:function(){var t=this,e={pageSize:1e5,pageNum:1};n["a"].getFundList(e).then((function(e){200===e.code&&e.data&&(t.fundList=e.data.list)})).catch((function(t){console.log(t)}))},handleSizeChange:function(t){this.team.pageSize=t,this.team.pageNum=1,this.getList()},handleCurrentChange:function(t){this.team.pageNum=t,this.getList()},getTeamDetail:function(t){var e=this;t?n["a"].getTeamDetail(t).then((function(t){if(200===t.code&&t.data){for(var a in t.data.fundIds=[],t.data.funds)t.data.fundIds.push(t.data.funds[a].fundId);e.team.detail=t.data,e.team.detail.dialogVisible=!0}})).catch((function(t){console.log(t)})):this.team.detail={dialogVisible:!0}},hideTeamDetailView:function(){this.team.detail={dialogVisible:!1}},deleteTeam:function(t){var e=this;this.$confirm("即将删除新闻《"+t.investorName+"》，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n["a"].deleteTeam(t.teamId).then((function(t){200===t.code&&(e.$message.success({message:"删除成功!",duration:1500}),e.getList())})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},setTeamStatus:function(t){var e=this,a="DW"===t.investorState.value?"up":"down";n["a"].setTeamStatus(t.teamId,a).then((function(i){200===i.code&&("up"===a?e.$message.success({message:"《"+t.investorName+"》上架成功！",duration:1500}):e.$message.success({message:"《"+t.investorName+"》下架成功！",duration:1500}),e.getList())})).catch((function(t){console.log(t)}))},setTeamRight:function(t){var e=this;n["a"].getTeamLpList(t.teamId).then((function(t){200===t.code&&(e.team.right=t.data,e.team.right.dialogVisible=!0)})).catch((function(t){console.log(t)}))},hideTeamRightView:function(){this.team.right={dialogVisible:!1}},submit:function(){var t=this;this.$refs["team.detail"].validate((function(e){if(e){var a={avatar:t.team.detail.avatar,investorName:t.team.detail.investorName,orderSeq:t.team.detail.orderSeq,position:t.team.detail.position,summary:t.team.detail.summary,fundIds:t.team.detail.fundIds};t.team.detail.teamId?n["a"].editTeam(a,t.team.detail.teamId).then((function(e){200===e.code&&(t.getList(),t.$message.success({message:"编辑成功！",duration:1500}),t.team.detail={dialogVisible:!1})})).catch((function(t){console.log(t)})):n["a"].addTeam(a).then((function(e){200===e.code&&(t.getList(),t.$message.success({message:"新增成功！",duration:1500}),t.team.detail={dialogVisible:!1})})).catch((function(t){console.log(t)}))}}))},submitTeamRight:function(){var t=this,e=[];for(var a in this.team.right.lpList)this.team.right.lpList[a].granted&&e.push(this.team.right.lpList[a].lpId);var i={lpIds:e};n["a"].saveTeamLpList(i,this.team.right.bizId).then((function(e){200===e.code&&(t.getList(),t.$message.success({message:"授权成功！",duration:1500}),t.team.right={dialogVisible:!1})})).catch((function(t){console.log(t)}))},onChangeFile:function(t){var e=this;console.log(t),t.response&&200===t.response.code&&t.response.data&&(this.$set(this.team.detail,"avatar",""),setTimeout((function(){e.$set(e.team.detail,"avatar",t.response.data),e.$refs.upload.clearFiles()}),300))}}},o=l,r=a("4ac2"),c=Object(r["a"])(o,i,s,!1,null,"26bae155",null);e["default"]=c.exports},"686d":function(t,e,a){"use strict";a("0030")},d1da:function(t,e){t.exports="data:image/png;base64,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"},d691:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-header",{staticClass:"header"},[i("div",{staticClass:"header-wrap"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu"}),t._v(" 募资管理 > LP门户\n      ")])])]),i("el-main",{staticClass:"main",staticStyle:{"overflow-x":"hidden"}},[i("div",{staticClass:"table-tab-header"},[t._l(t.viewList,(function(e,a){return i("div",{key:a,staticClass:"tab-button",class:{on:t.view.value===e.value},staticStyle:{"margin-left":"20px"},on:{click:function(e){return t.changeView(a)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),i("div",{staticStyle:{"margin-right":"auto"}}),i("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"medium"},on:{click:function(e){return t.getList(!0)}}},[t._v("账户管理")])],2),i("News",{directives:[{name:"show",rawName:"v-show",value:"news"===t.view.value,expression:"view.value==='news'"}],ref:"news"}),i("GP",{directives:[{name:"show",rawName:"v-show",value:"GP"===t.view.value,expression:"view.value==='GP'"}],ref:"GP"}),i("Team",{directives:[{name:"show",rawName:"v-show",value:"team"===t.view.value,expression:"view.value==='team'"}],ref:"team"}),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:t.account.dialogVisible,width:"850px","show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.account,"dialogVisible",e)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu"}),t._v(" 募资管理 - LP账户管理\n        ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){t.account.dialogVisible=!1}}})]),i("div",{staticClass:"clear"})]),i("el-row",[i("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[i("div",{staticClass:"w-100p flex"},[i("el-input",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{size:"medium",placeholder:"搜索账户名"},on:{input:function(e){return t.getList(!0)}},model:{value:t.search.filter,callback:function(e){t.$set(t.search,"filter",e)},expression:"search.filter"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),i("el-select",{staticStyle:{"margin-right":"auto"},attrs:{placeholder:"状态"},on:{change:function(e){return t.getList(!0)}},model:{value:t.search.accountState,callback:function(e){t.$set(t.search,"accountState",e)},expression:"search.accountState"}},t._l(t.enumType.LpAccountState,(function(t){return i("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1)]),i("el-col",{attrs:{span:24}},[t.account.list&&t.account.list.length>0?i("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.account.list,"header-cell-style":{background:"#fdfdfd"}}},[i("el-table-column",{attrs:{prop:"accountName",label:"账户名",width:"150"}}),i("el-table-column",{attrs:{prop:"accountState.name",label:"状态",width:"80"}}),i("el-table-column",{attrs:{prop:"lpName",label:"LP名称",width:"120"}}),i("el-table-column",{attrs:{prop:"lpContact",label:"联系人",width:"100"}}),i("el-table-column",{attrs:{prop:"lpPosition",label:"职务",width:"100"}}),i("el-table-column",{attrs:{prop:"lpTelNo",label:"电话",width:"150"}}),i("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.setStatus(e.row)}}},[t._v("\n                  "+t._s("OF"===e.row.accountState.value?"启用":"停用")+"\n                ")]),i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showPswView(e.row)}}},[t._v("重置密码")])]}}],null,!1,300332736)})],1):t._e(),i("div",{staticClass:"txt-right"}),t.account.list&&t.account.list.length>0?i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.account.pageNum,"page-sizes":[5,10,20],"page-size":t.account.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.account.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.account.list&&0===t.account.list.length,expression:"account.list && account.list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:a("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[t._v("暂无数据")]),i("br"),i("br")])],1)],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:t.account.detail.dialogVisible,width:"850px","show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.account.detail,"dialogVisible",e)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu primary"}),t._v(" LP账户管理 - 重置密码\n        ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:t.hideAccountPsw}})]),i("div",{staticClass:"clear"})]),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"account.detail",staticStyle:{"margin-top":"20px"},attrs:{model:t.account.detail,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"账户名",prop:"title"}},[i("el-input",{attrs:{disabled:""},model:{value:t.account.detail.accountName,callback:function(e){t.$set(t.account.detail,"accountName",e)},expression:"account.detail.accountName"}})],1),i("el-form-item",{attrs:{label:"新密码",prop:"password",rules:{required:!0,message:"请输入新密码",trigger:"blur"}}},[i("el-input",{attrs:{type:"password"},model:{value:t.account.detail.password,callback:function(e){t.$set(t.account.detail,"password",e)},expression:"account.detail.password"}})],1),i("el-form-item",{attrs:{label:""}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submit()}}},[t._v("确认")]),i("el-button",{attrs:{type:"default",size:"mini"},on:{click:t.hideAccountPsw}},[t._v("取消")])],1)])],1)],1)],1)],1)],1)],1)},s=[],n=(a("d91d"),a("0fea")),l=a("e8f7"),o=a("c58c"),r=a("241b"),c=(a("ed08"),a("14a5")),u={components:{News:l["default"],GP:o["default"],Team:r["default"]},data:function(){return{enumType:{},viewList:[{name:"新闻动态",value:"news",init:!1},{name:"GP推送",value:"GP",init:!1},{name:"投资团队",value:"team",init:!1}],view:{},search:{filter:"",accountState:""},account:{dialogVisible:!1,pageSize:10,pageNum:1,total:0,list:[],detail:{dialogVisible:!1}}}},mounted:function(){c["a"].set(),this.getEnum("LpAccountState",!0),this.changeView(0)},destroyed:function(){c["a"].remove()},methods:{getEnum:function(t,e){var a=this;n["a"].getEnum(t).then((function(i){200===i.code&&(e&&i.data.unshift({name:"全部",value:""}),a.$set(a.enumType,t,i.data))})).catch((function(t){console.log(t)}))},changeView:function(t){switch(this.view=this.viewList[t],this.view.value){case"news":this.view.init||this.$refs.news.getList();break;case"GP":this.view.init||this.$refs.GP.getList();break;case"team":this.view.init||this.$refs.team.getList();break}},getList:function(t){var e=this;this.account.pageNum=t?1:this.account.pageNum;var a={filter:this.search.filter,accountState:this.search.accountState,pageNum:this.account.pageNum,pageSize:this.account.pageSize};n["a"].getAccount(a).then((function(t){200===t.code&&(e.account.list=t.data.list,e.account.total=t.data.total,e.account.dialogVisible=!0)})).catch((function(t){console.log(t)}))},setStatus:function(t){var e=this,a="OF"===t.accountState.value?"enable":"disable";n["a"].setAccountStatus(t.accountId,a).then((function(a){200===a.code&&(e.getList(),e.$message.success({message:"账号《"+t.accountName+"》"+("OF"===t.accountState.value?"启用":"停用")+"成功！",duration:1500}))})).catch((function(t){console.log(t)}))},showPswView:function(t){this.account.detail={dialogVisible:!0,accountId:t.accountId,accountName:t.accountName,password:""}},hideAccountPsw:function(){this.account.detail={dialogVisible:!1}},submit:function(){var t=this;this.$refs["account.detail"].validate((function(e){if(e){var a={password:t.account.detail.password};n["a"].resetAccountPsw(a,t.account.detail.accountId).then((function(e){200===e.code&&(t.$message.success({message:"密码重置成功！",duration:1500}),t.hideAccountPsw())})).catch((function(t){console.log(t)}))}}))},handleSizeChange:function(t){this.account.pageSize=t,this.account.pageNum=1,this.getList(!0)},handleCurrentChange:function(t){this.account.pageNum=t,this.getList()}}},d=u,m=(a("686d"),a("4ac2")),p=Object(m["a"])(d,i,s,!1,null,"0aeba55c",null);e["default"]=p.exports},e8f7:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"w-100p flex"},[i("el-input",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{size:"medium",placeholder:"搜索新闻标题"},on:{input:function(e){return t.getList(!0)}},model:{value:t.search.filter,callback:function(e){t.$set(t.search,"filter",e)},expression:"search.filter"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),i("el-select",{staticStyle:{"margin-right":"auto"},attrs:{placeholder:"状态"},on:{change:function(e){return t.getList(!0)}},model:{value:t.search.fundraisingState,callback:function(e){t.$set(t.search,"fundraisingState",e)},expression:"search.fundraisingState"}},t._l(t.enumType.FundraisingState,(function(t){return i("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1),i("el-button",{staticStyle:{"margin-right":"0px"},attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.getNewsDetail()}}},[t._v("新建\n    ")])],1),i("div",{staticClass:"w-100p"},[t.news.list&&t.news.list.length>0?i("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.news.list,"header-cell-style":{background:"#fdfdfd"}}},[i("el-table-column",{attrs:{prop:"title",label:"新闻标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"table-row-div"},[t._v("\n            "+t._s(e.row.newsTitle)+"\n          ")])]}}],null,!1,1457202327)}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("DateTimeEn")(e.row.createTime))+"\n        ")]}}],null,!1,2702145983)}),i("el-table-column",{attrs:{prop:"newsState.name",label:"状态",width:"80"}}),i("el-table-column",{attrs:{label:"LP查看权限",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"table-row-div"},t._l(e.row.grantedLps,(function(a,s){return a.granted?i("span",{key:s},[t._v(t._s(a.lpName)+t._s(s+1===e.row.grantedLps.length?"":"、"))]):t._e()})),0)]}}],null,!1,3968434388)}),i("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right","header-align":"center",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.setNewsStatus(e.row)}}},[t._v(t._s(e.row.newsState&&"DW"===e.row.newsState.value?"上架":"下架")+"\n          ")]),i("span",{staticStyle:{padding:"0 10px"}},[t._v("|")]),i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link pointer"},[t._v("\n            更多"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(a){return t.setNewsRight(e.row)}}},[t._v("授权")]),i("el-dropdown-item",{nativeOn:{click:function(a){return t.getNewsDetail(e.row.newsId)}}},[t._v("编辑")]),i("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteNews(e.row)}}},[t._v("删除")])],1)],1)]}}],null,!1,1932458910)})],1):t._e(),i("div",{staticClass:"txt-right"},[t.news.list&&t.news.list.length>0?i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.news.pageNum,"page-sizes":[5,10,20],"page-size":t.news.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.news.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.news.list&&0===t.news.list.length,expression:"news.list && news.list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:a("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[t._v("暂无数据")]),i("br"),i("br")])],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:t.news.detail.dialogVisible,width:"850px","show-close":!1,top:"50px"},on:{"update:visible":function(e){return t.$set(t.news.detail,"dialogVisible",e)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu"}),t._v(" "+t._s(t.news.detail.newsId?"编辑":"新建")+" - 新闻动态\n      ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideNewsDetailView()}}})]),i("div",{staticClass:"clear"})]),i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.uillUpdateImg,expression:"uillUpdateImg"}]},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"news.detail",staticStyle:{"margin-top":"20px"},attrs:{model:t.news.detail,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"新闻标题",prop:"newsTitle",rules:{required:!0,message:"请输入标题"}}},[i("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.news.detail.newsTitle,callback:function(e){t.$set(t.news.detail,"newsTitle",e)},expression:"news.detail.newsTitle"}})],1),i("el-form-item",{attrs:{label:"封面图",prop:"newsCoverImg",rules:{required:!0,message:"请上传封面图片"}}},[t.news.detail.newsCoverImg?i("img",{staticClass:"cover",attrs:{src:t.news.detail.newsCoverImg}}):t._e(),i("el-upload",{ref:"upload",attrs:{action:t.uploadURL,headers:t.headers,limit:1,"show-file-list":!1,"on-change":t.onChangeFile}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),i("el-form-item",{attrs:{label:"新闻正文",prop:"newsContent",rules:{required:!0,message:"请填写内容！"}}},[i("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},model:{value:t.news.detail.newsContent,callback:function(e){t.$set(t.news.detail,"newsContent",e)},expression:"news.detail.newsContent"}})],1),i("el-form-item",{attrs:{label:"新闻来源",prop:"newsSource"}},[i("el-input",{attrs:{placeholder:"请输入新闻来源"},model:{value:t.news.detail.newsSource,callback:function(e){t.$set(t.news.detail,"newsSource",e)},expression:"news.detail.newsSource"}})],1),i("el-form-item",{attrs:{label:"排序权重",prop:"orderSeq"}},[i("el-input",{attrs:{placeholder:"请输入排序权重"},model:{value:t.news.detail.orderSeq,callback:function(e){t.$set(t.news.detail,"orderSeq",e)},expression:"news.detail.orderSeq"}})],1),i("el-form-item",{attrs:{label:""}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submit()}}},[t._v("确认")]),i("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){return t.hideNewsDetailView()}}},[t._v("取消")])],1)])],1)],1)],1)],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:t.news.right.dialogVisible,width:"850px","show-close":!1,top:"50px"},on:{"update:visible":function(e){return t.$set(t.news.right,"dialogVisible",e)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-LPmenhu"}),t._v(" 授权 - 新闻动态\n      ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideNewsRightView()}}})]),i("div",{staticClass:"clear"})]),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"news.right",staticStyle:{"margin-top":"20px"},attrs:{model:t.news.right,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"新闻标题",prop:"bizName"}},[i("el-input",{attrs:{disabled:""},model:{value:t.news.right.bizName,callback:function(e){t.$set(t.news.right,"bizName",e)},expression:"news.right.bizName"}})],1),i("el-form-item",{attrs:{label:"LP查看权限",prop:"title"}},t._l(t.news.right.lpList,(function(e,a){return i("el-checkbox",{key:a,attrs:{label:e.lpName},model:{value:e.granted,callback:function(a){t.$set(e,"granted",a)},expression:"item.granted"}})})),1),i("el-form-item",{attrs:{label:""}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submitNewsRight()}}},[t._v("确认")]),i("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){return t.hideNewsRightView()}}},[t._v("取消")])],1)])],1)],1)],1)],1),i("el-upload",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"uploadImg",attrs:{id:"quill-upload",action:t.uploadURL,headers:t.headers,limit:1,"show-file-list":!1,"before-upload":t.beforeUpload,"on-error":t.uploadError,"on-success":t.handleExceed}})],1)},s=[],n=(a("d91d"),a("0fea")),l=a("b881"),o=(a("121a"),a("7e41"),a("96be"),a("ed08"),{components:{quillEditor:l["quillEditor"]},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},props:{},data:function(){return{enumType:{FundraisingState:[]},search:{filter:"",fundraisingState:""},news:{pageSize:10,pageNum:1,total:0,list:[],detail:{dialogVisible:!1},right:{title:"",list:[],dialogVisible:!1}},uillUpdateImg:!1,editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:[["bold"],["italic"],["underline"],["strike"],["blockquote"],["code-block"],["link"],["image"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],handlers:{image:function(t){t?document.querySelector("#quill-upload input").click():this.quill.format("image",!1)}}}}},baseAPI:"https://dev-api.cgvcap.com",uploadURL:"https://dev-api.cgvcap.com/fundraising/portal/news/img/upload",headers:{Authorization:"Bearer "+this.$store.state.user.user.token}}},mounted:function(){this.getEnum("FundraisingState",!0)},methods:{getEnum:function(t,e){var a=this;n["a"].getEnum(t).then((function(i){200===i.code&&(e&&i.data.unshift({name:"全部",value:""}),a.$set(a.enumType,t,i.data))})).catch((function(t){console.log(t)}))},getList:function(t){var e=this;this.news.pageNum=t?1:this.news.pageNum;var a={filter:this.search.filter,pageNum:this.news.pageNum,pageSize:this.news.pageSize,newsState:this.search.fundraisingState||""};n["a"].getNewsList(a).then((function(t){200===t.code&&t.data&&(e.news.list=t.data.list,e.news.total=t.data.total)})).catch((function(t){console.log(t)}))},handleSizeChange:function(t){this.news.pageSize=t,this.news.pageNum=1,this.getList()},handleCurrentChange:function(t){this.news.pageNum=t,this.getList()},getNewsDetail:function(t){var e=this;t?n["a"].getNewsDetail(t).then((function(t){200===t.code&&t.data&&(e.news.detail=t.data,e.news.detail.dialogVisible=!0)})).catch((function(t){console.log(t)})):this.news.detail={dialogVisible:!0,newsCoverImg:"",newsContent:""}},hideNewsDetailView:function(){this.news.detail={dialogVisible:!1}},deleteNews:function(t){var e=this;this.$confirm("即将删除新闻《"+t.newsTitle+"》，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n["a"].deleteLpNews(t.newsId).then((function(t){200===t.code&&(e.$message.success({message:"新闻删除成功!",duration:1500}),e.getList())})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},setNewsStatus:function(t){var e=this,a="DW"===t.newsState.value?"up":"down";n["a"].setNewsStatus(t.newsId,a).then((function(i){200===i.code&&("up"===a?e.$message.success({message:"新闻《"+t.newsTitle+"》上架成功！",duration:1500}):e.$message.success({message:"新闻《"+t.newsTitle+"》下架成功！",duration:1500}),e.getList())})).catch((function(t){console.log(t)}))},setNewsRight:function(t){var e=this;n["a"].getNewsLpList(t.newsId).then((function(t){200===t.code&&(e.news.right=t.data,e.news.right.dialogVisible=!0)})).catch((function(t){console.log(t)}))},hideNewsRightView:function(){this.news.right={dialogVisible:!1}},submit:function(){var t=this;this.$refs["news.detail"].validate((function(e){if(e){var a={newsContent:t.news.detail.newsContent,newsCoverImg:t.news.detail.newsCoverImg,newsSource:t.news.detail.newsSource,newsTitle:t.news.detail.newsTitle,orderSeq:t.news.detail.orderSeq};t.news.detail.newsId?n["a"].editNews(a,t.news.detail.newsId).then((function(e){200===e.code&&(t.getList(),t.$message.success({message:"新闻编辑成功！",duration:1500}),t.news.detail={dialogVisible:!1})})).catch((function(t){console.log(t)})):n["a"].addNews(a).then((function(e){200===e.code&&(t.getList(),t.$message.success({message:"新闻新增成功！",duration:1500}),t.news.detail={dialogVisible:!1})})).catch((function(t){console.log(t)}))}}))},submitNewsRight:function(){var t=this,e=[];for(var a in this.news.right.lpList)this.news.right.lpList[a].granted&&e.push(this.news.right.lpList[a].lpId);var i={lpIds:e};n["a"].saveNewsLpList(i,this.news.right.bizId).then((function(e){200===e.code&&(t.getList(),t.$message.success({message:"新闻授权成功！",duration:1500}),t.news.right={dialogVisible:!1})})).catch((function(t){console.log(t)}))},beforeUpload:function(){this.uillUpdateImg=!0},uploadError:function(){this.uillUpdateImg=!1,this.$message.error("图片插入失败")},handleExceed:function(t,e,a){var i=this.$refs.myQuillEditor.quill;if(200===t.code){var s=i.getSelection().index;i.insertEmbed(s,"image",t.data),i.setSelection(s+1)}else this.$message.error("图片插入失败");this.uillUpdateImg=!1,this.$refs.uploadImg.clearFiles()},onChangeFile:function(t){var e=this;console.log(t),t.response&&200===t.response.code&&t.response.data&&(this.$set(this.news.detail,"newsCoverImg",""),setTimeout((function(){e.$set(e.news.detail,"newsCoverImg",t.response.data),e.$refs.upload.clearFiles()}),300))}}}),r=o,c=a("4ac2"),u=Object(c["a"])(r,i,s,!1,null,"05d77abe",null);e["default"]=u.exports}}]);