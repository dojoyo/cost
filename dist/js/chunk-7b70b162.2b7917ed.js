(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b70b162","chunk-d81f416c"],{"328f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users-wrap"},[e._l(e.users,(function(t,n){return a("div",{key:n,staticClass:"avatar",class:{step:e.step,last:n===e.users.length-1}},[a("span",{staticClass:"close",on:{click:function(e){e.stopPropagation()}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],staticClass:"iconfont icon-guanbi",on:{click:function(t){return e.removeUser(n)}}})]),a("el-tooltip",{attrs:{content:t.userName,effect:"dark",placement:"top"}},[a("avatar",{attrs:{user:t}})],1),e.tags?a("div",{staticStyle:{"line-height":"16px","padding-top":"8px"}},[e._v(e._s(t.userTag||t.userName))]):e._e(),a("div",{staticClass:"line"})],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}]},[a("i",{staticClass:"iconfont icon-tianjia pointer fs-22",on:{click:function(t){return e.showMemberTransfer("transfer")}}})]),a("members-transfer",{ref:"transfer",attrs:{multi:e.multi,role:e.role,step:e.step,users:e.users,invest:e.invest},on:{SAVE_USERS:e.setUsers}})],2)},s=[],r=a("7150"),i=a("8995"),o={components:{avatar:r["a"],membersTransfer:i["a"]},model:{prop:"users",event:"change"},props:{users:Array,step:{type:Boolean,default:function(){return!1}},edit:{type:Boolean,default:function(){return!0}},multi:{type:Boolean,default:function(){return!0}},placement:{type:String,default:function(){return"top"}},role:{type:Boolean,default:function(){return!1}},tags:{type:Boolean,default:function(){return!1}},invest:{type:Boolean,default:function(){return!1}}},computed:{},data:function(){return{}},methods:{setUsers:function(e){this.$emit("change",e),this.$emit("SET_USERS",e)},showMemberTransfer:function(e){this.$refs[""+e].show()},removeUser:function(e){var t=this.users;t.splice(e,1)}}},l=o,u=(a("44df"),a("4ac2")),c=Object(u["a"])(l,n,s,!1,null,"45d72c07",null);t["a"]=c.exports},"44df":function(e,t,a){"use strict";a("bfe1")},bfe1:function(e,t,a){},d278:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"detail",attrs:{model:e.detail,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"审批人"}},[a("user-select",{attrs:{users:e.detail.approvalNodes,edit:e.detail.approvalType&&"FX"!==e.detail.approvalType.value,step:!0},on:{SET_USERS:e.setApprovalNodes}})],1),e.detail.approvalType&&"FX"===e.detail.approvalType.value&&e.detail.ccUsers&&0===e.detail.ccUsers.length?e._e():a("el-form-item",{attrs:{label:"抄送人"}},[a("user-select",{attrs:{users:e.detail.ccUsers,edit:e.detail.approvalType&&"FX"!==e.detail.approvalType.value},on:{SET_USERS:e.setCcUsers}})],1),a("el-form-item",{attrs:{label:"紧急程度",prop:"urgencyLvl",rules:{required:!0,message:"请选择紧急程度"}}},e._l(e.enumType.UrgencyLevel,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.value},model:{value:e.detail.urgencyLvl,callback:function(t){e.$set(e.detail,"urgencyLvl",t)},expression:"detail.urgencyLvl"}},[e._v(e._s(t.name))])})),1)],1)},s=[],r=a("328f"),i=a("b62b"),o={name:"",components:{userSelect:r["a"]},props:{detail:Object,valid:{type:Boolean,default:function(){return!1}}},data:function(){return{enumType:{}}},mounted:function(){this.getEnum("UrgencyLevel")},methods:{getEnum:function(e,t){var a=this;i["a"].getEnum(e).then((function(n){200===n.code&&(t&&n.data.unshift({name:"全部",value:""}),a.$set(a.enumType,e,n.data))})).catch((function(e){console.log(e)}))},setCcUsers:function(e){this.$emit("SET_CC_USERS",e)},setApprovalNodes:function(e){for(var t in e)e[t].nodeRefId=e[t].nodeRefId||e[t].id||e[t].userId,e[t].nodeType=e[t].nodeType||"UN",e[t].userId=e[t].nodeRefId||e[t].id,e[t].userTag=e[t].userTag||"审批人",e[t].nodeName=e[t].userTag||"审批人";console.log(e),this.$emit("SET_APPROVAL_NODES",e)},validateField:function(){var e=this;return this.$refs.detail.validate((function(t){e.$emit("VALID",t)}))},clearValidateField:function(){this.$refs.detail.clearValidate()}}},l=o,u=a("4ac2"),c=Object(u["a"])(l,n,s,!1,null,"f5a59ec0",null);t["default"]=c.exports}}]);