(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e98096d"],{"200b":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.btn?i("el-button",{attrs:{type:"text"},on:{click:e.showDialog}},[i("i",{staticClass:"iconfont icon-yidongdao",staticStyle:{"margin-right":"5px"}}),e._v("移动到")]):e._e(),i("el-dialog",{attrs:{visible:e.dialogVisible,width:"400px","append-to-body":!0,"show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-xiangmuguanli"}),e._v(" 移动到\n      ")]),i("div",{staticClass:"options",staticStyle:{display:"flex","align-items":"center"}},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){return e.hideDialog()}}})]),i("div",{staticClass:"clear"})]),i("div",{staticClass:"main-wrap"},[i("el-form",{ref:"detail",attrs:{model:e.detail,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"复制内容"}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"wrap"}},e._l(e.items,(function(t,a){return i("div",{key:a,staticStyle:{display:"flex","align-items":"center","margin-right":"5px"}},[i("img",{staticStyle:{width:"16px","margin-right":"5px"},attrs:{src:t.icon}}),e._v("\n              "+e._s(t.fileName)+"\n              "),i("span",{directives:[{name:"show",rawName:"v-show",value:a<e.items.length-1,expression:"index<items.length-1"}]},[e._v("、")])])})),0)]),i("el-form-item",{attrs:{label:"复制路径",prop:""}},[i("el-tree",{staticClass:"dept-tree",staticStyle:{"margin-top":"-5px"},attrs:{props:e.props,load:e.loadNode,lazy:"","expand-on-click-node":!1},on:{"node-click":e.setPaths},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return i("div",{staticClass:"custom-tree-node",style:{marginLeft:-24-18*n.level+"px",paddingLeft:24+18*n.level+"px"}},[i("i",{staticClass:"iconfont icon-xiangmu",staticStyle:{"margin-right":"5px"}}),i("span",{staticStyle:{padding:"3px 5px","border-radius":"3px"},style:{background:n.selectable?"":"#f2f2f2",cursor:n.selectable?"":"not-allowed"}},[e._v(e._s(a.label))])])}}])})],1),i("el-form-item",{attrs:{label:"","label-width":"0"}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"center"}},[e.file.name?i("div",{staticStyle:{width:"100%",height:"50px",background:"#f7f7f7","line-height":"50px","text-align":"center","margin-bottom":"20px"}},[e._v("\n              选中文件夹："+e._s(e.file.name)+"\n            ")]):e._e(),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save}},[e._v("确定")])],1)])],1)],1)])],1)},n=[],s=i("1f6d"),l={name:"",components:{},props:{items:{type:Array,default:function(){return[]}},btn:{type:Boolean,default:function(){return!0}}},data:function(){return{dialogVisible:!1,detail:{},tree:[],props:{label:"name",isLeaf:"leaf"},file:{},counter:0}},mounted:function(){},methods:{showDialog:function(){this.dialogVisible=!0},hideDialog:function(){this.dialogVisible=!1},save:function(){var e=this;this.file.id?(this.counter=0,this.items.map((function(t){e.copyFiles(t.typedId)}))):this.$message.warning({message:"请选择合法的路径！",duration:1500})},loadNode:function(e,t){if(0===e.level&&s["a"].getFolderTree({typedId:""}).then((function(e){if(200===e.code){var i=[];return e.data.map((function(e){i.push({name:e.folderName,id:e.typedId,selectable:e.selectable})})),t(i)}})).catch((function(e){console.log(e)})),e.level>0){var i={typedId:e.data.id};s["a"].getFolderTree(i).then((function(e){if(200===e.code){var i=[];return e.data.map((function(e){i.push({name:e.folderName,id:e.typedId,leaf:!e.withSubFolder,selectable:e.selectable})})),t(i)}})).catch((function(e){console.log(e)}))}},setPaths:function(e){e.selectable?this.file=e:(this.$message.warning({message:"当前路径不可选！",duration:1500}),this.file={})},copyFiles:function(e){var t=this,i={typedId:e,toTypedId:this.file.id};s["a"].moveTo(i).then((function(e){200===e.code&&(t.counter++,t.counter===t.items.length&&(t.$message.success({message:"操作成功！",duration:1500}),t.hideDialog(),t.$emit("REFRESH")))})).catch((function(e){console.log(e)}))}}},o=l,c=(i("6ad1"),i("e366"),i("4ac2")),r=Object(c["a"])(o,a,n,!1,null,"2524e7ea",null);t["default"]=r.exports},3794:function(e,t,i){},"6ad1":function(e,t,i){"use strict";i("3794")},c399:function(e,t,i){},e366:function(e,t,i){"use strict";i("c399")}}]);