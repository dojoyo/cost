(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8dbb3782","chunk-d81f416c","chunk-2d22c102"],{"14a5":function(t,e,n){"use strict";n("c0d6"),n("1619");var a={};a.remove=function(){},a.set=function(t){},e["a"]=a},"29d7":function(t,e,n){"use strict";n("2bcf")},"2bcf":function(t,e,n){},"328f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"users-wrap"},[t._l(t.users,(function(e,a){return n("div",{key:a,staticClass:"avatar",class:{step:t.step,last:a===t.users.length-1}},[n("span",{staticClass:"close",on:{click:function(t){t.stopPropagation()}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticClass:"iconfont icon-guanbi",on:{click:function(e){return t.removeUser(a)}}})]),n("el-tooltip",{attrs:{content:e.userName,effect:"dark",placement:"top"}},[n("avatar",{attrs:{user:e}})],1),t.tags?n("div",{staticStyle:{"line-height":"16px","padding-top":"8px"}},[t._v(t._s(e.userTag||e.userName))]):t._e(),n("div",{staticClass:"line"})],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}]},[n("i",{staticClass:"iconfont icon-tianjia pointer fs-22",on:{click:function(e){return t.showMemberTransfer("transfer")}}})]),n("members-transfer",{ref:"transfer",attrs:{multi:t.multi,role:t.role,step:t.step,users:t.users,invest:t.invest},on:{SAVE_USERS:t.setUsers}})],2)},r=[],s=n("7150"),i=n("8995"),o={components:{avatar:s["a"],membersTransfer:i["a"]},model:{prop:"users",event:"change"},props:{users:Array,step:{type:Boolean,default:function(){return!1}},edit:{type:Boolean,default:function(){return!0}},multi:{type:Boolean,default:function(){return!0}},placement:{type:String,default:function(){return"top"}},role:{type:Boolean,default:function(){return!1}},tags:{type:Boolean,default:function(){return!1}},invest:{type:Boolean,default:function(){return!1}}},computed:{},data:function(){return{}},methods:{setUsers:function(t){this.$emit("change",t),this.$emit("SET_USERS",t)},showMemberTransfer:function(t){this.$refs[""+t].show()},removeUser:function(t){var e=this.users;e.splice(t,1)}}},l=o,c=(n("44df"),n("4ac2")),u=Object(c["a"])(l,a,r,!1,null,"45d72c07",null);e["a"]=u.exports},"424e":function(t,e,n){"use strict";var a=n("b775");e["a"]={getEnum:function(t){return Object(a["a"])({url:"/enum/"+t,method:"get"})},getSignList:function(t){return Object(a["a"])({url:"/contract/sign/list",method:"post",data:t})},getFormTemplateList:function(t){return Object(a["a"])({url:"/archive/template/form/list",method:"post",data:t})},getSignatureTemplateList:function(t){return Object(a["a"])({url:"/archive/template/contract/list",method:"post",data:t})},getTemplateGrants:function(t){return Object(a["a"])({url:"/archive/template/form/"+t+"/grants",method:"get"})},saveTemplateGrants:function(t,e){return Object(a["a"])({url:"/archive/template/form/"+e+"/grants/save",method:"post",data:t})},uploadTemplateFiles:function(t,e){return Object(a["a"])({url:"/archive/template/form/"+e+"/upload",method:"post",data:t})},uploadContractFiles:function(t,e){return Object(a["a"])({url:"/archive/template/contract/"+e+"/upload",method:"post",data:t})},downloadContractFiles:function(t,e){return Object(a["a"])({url:"/archive/template/contract/"+t+"/attach/"+e,method:"get",responseType:"arraybuffer"})},deleteContractFiles:function(t,e){return Object(a["a"])({url:"/archive/template/form/"+t+"/attach/"+e,method:"delete"})},downloadContractSignFile:function(t){return Object(a["a"])({url:"/contract/sign/"+t,method:"get",responseType:"arraybuffer"})},showFile:function(t){return Object(a["a"])({url:"/contract/sign/"+t+"/report",method:"get",responseType:"arraybuffer"})},cancelSign:function(t){return Object(a["a"])({url:"/contract/sign/"+t+"/cancelled",method:"put"})},recoverSign:function(t){return Object(a["a"])({url:"/contract/sign/"+t+"/recover",method:"put"})},sendMsg:function(t){return Object(a["a"])({url:"/contract/sign/"+t+"/sms",method:"put"})},resyncSign:function(t){return Object(a["a"])({url:"/public/contract/resync/sign",method:"post",data:t})},retry:function(t){return Object(a["a"])({url:"/contract/sign/"+t+"/launch/retry",method:"post"})}}},"44df":function(t,e,n){"use strict";n("bfe1")},"69b0":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},bfe1:function(t,e,n){},d91d:function(t,e,n){"use strict";var a=n("a86f"),r=n("69b0"),s=n("f417");n("c46f")("search",1,(function(t,e,n,i){return[function(n){var a=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=i(n,t,this);if(e.done)return e.value;var o=a(t),l=String(this),c=o.lastIndex;r(c,0)||(o.lastIndex=0);var u=s(o,l);return r(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},ee39:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header"},[a("div",{staticClass:"header-wrap",staticStyle:{display:"flex"}},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont icon-dianziqianzhangmoban"}),t._v(" 模版管理-电子签章模版\n      ")]),a("div",{staticStyle:{"margin-left":"auto"}})])]),a("el-main",{staticClass:"main"},[a("div",{staticClass:"w-100p"},[a("el-input",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{size:"medium",placeholder:"请输入模版名称"},on:{input:t.getList},model:{value:t.search.filter,callback:function(e){t.$set(t.search,"filter",e)},expression:"search.filter"}}),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"请选择模块"},model:{value:t.search.templateCategory,callback:function(e){t.$set(t.search,"templateCategory",e)},expression:"search.templateCategory"}},t._l(t.enumType.ContractCategory,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getList()}}},[t._v("查询")])],1),t.list&&t.list.length>0?a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.list,"header-cell-style":{background:"#fdfdfd"},"row-style":{cursor:"pointer"}},on:{"cell-click":t.showDetail}},[a("el-table-column",{attrs:{prop:"templateApp.name",label:"模块",width:"80"}}),a("el-table-column",{attrs:{prop:"pathName",label:"系统路径"}}),a("el-table-column",{attrs:{prop:"templateCategory.name",label:"分类",width:"200"}}),a("el-table-column",{attrs:{prop:"templateName",label:"模版名称",width:"300"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"120","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("DateTimeEn")(e.row.updateTime))+"\n        ")]}}],null,!1,1094442858)}),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},on:{click:function(n){return t.setCurrentClick(e.row)}}},[a("el-upload",{ref:"upload"+e.row.templateId,attrs:{action:t.BASE_API+"/file",headers:t.headers,limit:1,"show-file-list":!1,data:{category:"template"},"on-change":t.onChangeFile}},[a("el-button",{attrs:{type:"text"}},[t._v("上传")])],1),a("span",{staticStyle:{padding:"0 10px"}},[t._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:function(n){return t.download(e.row)}}},[t._v("下载")])],1)]}}],null,!1,2482102960)})],1):t._e(),a("div",{staticClass:"txt-right"},[t.list&&t.list.length>0?a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.pageNum,"page-sizes":[5,10,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.list&&0===t.list.length,expression:"list && list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:n("f244")}}),a("br"),a("span",{staticStyle:{"font-size":"14px"}},[t._v("暂无数据")]),a("br"),a("br")])],1)],1)},r=[],s=(n("d91d"),n("424e")),i=n("328f"),o=n("14a5"),l={name:"",components:{userSelect:i["a"]},props:{},data:function(){return{enumType:{},search:{entName:"",principalUserName:"",investType:"",lvl2Industry:""},list:[],pageNum:1,pageSize:10,total:10,BASE_API:"https://dev-api.cgvcap.com",headers:{Authorization:"Bearer "+this.$store.state.user.user.token},loading:!1,current:{}}},mounted:function(){o["a"].set(),this.getEnum("ContractCategory",!0),this.getList()},destroyed:function(){o["a"].remove()},methods:{getEnum:function(t,e){var n=this;s["a"].getEnum(t).then((function(a){200===a.code&&(e&&a.data.unshift({name:"全部",value:""}),n.$set(n.enumType,t,a.data))})).catch((function(t){console.log(t)}))},getList:function(){var t=this,e={templateCategory:this.search.templateCategory,filter:this.search.filter,pageNum:this.pageNum,pageSize:this.pageSize};s["a"].getSignatureTemplateList(e).then((function(e){200===e.code&&(t.list=e.data.list,t.total=e.data.total)})).catch((function(t){console.log(t)}))},handleSizeChange:function(t){this.pageSize=t,this.pageNum=1,this.getList()},handleCurrentChange:function(t){this.pageNum=t,this.getList()},showDetail:function(t,e){"操作"!==e.label&&console.log("SHOW DETAIL")},onChangeFile:function(t){this.loading=!0,t.response&&200===t.response.code&&t.response.data&&(this.$refs["upload"+this.current.templateId].clearFiles(),this.loading=!1,this.uploadFile(t.response.data))},uploadFile:function(t){var e=this;console.log(t);var n={accessCode:t[0].accessCode,fileId:t[0].fileId};s["a"].uploadContractFiles(n,this.current.templateId).then((function(t){200===t.code&&(e.$message.success({message:"上传文件成功！",duration:1500}),e.getList(),e.current={})})).catch((function(t){console.log(t)}))},download:function(t){var e=this;this.loading=!0,s["a"].downloadContractFiles(t.templateId,t.attachId).then((function(t){console.log(t),e.loading=!1;var n=t.headers,a=n["x-file-name"],r=new Blob([t.data],{type:n["content-type"]}),s=document.createElement("a");s.href=window.URL.createObjectURL(r),s.download=decodeURIComponent(a),s.click()})).catch((function(t){console.log(t)}))},setCurrentClick:function(t){console.log(this.current),this.current=t}}},c=l,u=(n("29d7"),n("4ac2")),d=Object(u["a"])(c,a,r,!1,null,"68d2b481",null);e["default"]=d.exports},f244:function(t,e){t.exports="data:image/png;base64,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"}}]);