(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bbe51f50","chunk-d81f416c"],{"0949":function(e,t,a){},"12ac":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,width:"600px","append-to-body":!0,"show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont icon-xiangmuguanli"}),e._v(" 链接分享\n    ")]),a("div",{staticClass:"options",staticStyle:{display:"flex","align-items":"center"}},[a("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){return e.hideDialog()}}})]),a("div",{staticClass:"clear"})]),a("div",{staticClass:"main-wrap"},[a("el-form",{ref:"detail",attrs:{model:e.detail,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"分享内容"}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"32px","margin-right":"5px"},attrs:{src:e.item.icon}}),e._v("\n          "+e._s(e.item.fileName)+"\n        ")]),a("div",{staticStyle:{color:"#888"}},[e._v("分享内容将自动更新为最新版本")])]),a("el-form-item",{attrs:{label:"用户",prop:""}},[a("user-select",{attrs:{users:e.users},on:{SET_USERS:function(t){e.users=t}}})],1),a("el-form-item",{attrs:{label:"下载权限",prop:""}},[a("el-radio",{attrs:{label:"1"},model:{value:e.canDownload,callback:function(t){e.canDownload=t},expression:"canDownload"}},[e._v("可下载")]),a("el-radio",{attrs:{label:"0"},model:{value:e.canDownload,callback:function(t){e.canDownload=t},expression:"canDownload"}},[e._v("不可下载")])],1),a("el-form-item",{attrs:{label:"分享期限",prop:""}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择分享期限","value-format":"yyyy-MM-dd"},model:{value:e.expireTime,callback:function(t){e.expireTime=t},expression:"expireTime"}})],1),a("el-form-item",{attrs:{label:"分享留言",prop:""}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入分享留言"},model:{value:e.shareRemark,callback:function(t){e.shareRemark=t},expression:"shareRemark"}})],1),a("el-form-item",{attrs:{label:"","label-width":"0"}},[a("div",{staticClass:"w-100p",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.share}},[e._v("分享")])],1)])],1)],1)])},i=[],n=a("1f6d"),o=a("328f"),r=a("caaf"),l=a.n(r),c={name:"",components:{userSelect:o["a"]},props:{item:{type:Object,default:function(){return{}}},btn:{type:Boolean,default:function(){return!0}}},data:function(){return{dialogVisible:!1,detail:{},users:[],canDownload:"1",expireTime:"",shareRemark:""}},mounted:function(){},methods:{showDialog:function(){this.dialogVisible=!0,this.users=[],this.canDownload="1",this.expireTime=l()().add(7,"days").format("YYYY-MM-DD"),this.shareRemark=""},hideDialog:function(){this.dialogVisible=!1},share:function(){var e=this,t={typedId:this.item.typedId,toUserIds:function(){var t=[];return e.users.map((function(e){t.push(e.id||e.userId)})),t}(),canDownload:"1"===this.canDownload,expireTime:this.expireTime,shareRemark:this.shareRemark};n["a"].shareToUser(t).then((function(t){200===t.code&&(e.$message.success({message:"操作成功！",duration:1500}),e.hideDialog())})).catch((function(e){console.log(e)}))}}},u=c,d=(a("d85e"),a("519b"),a("4ac2")),f=Object(d["a"])(u,s,i,!1,null,"25b1f5a0",null);t["default"]=f.exports},"328f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users-wrap"},[e._l(e.users,(function(t,s){return a("div",{key:s,staticClass:"avatar",class:{step:e.step,last:s===e.users.length-1}},[a("span",{staticClass:"close",on:{click:function(e){e.stopPropagation()}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],staticClass:"iconfont icon-guanbi",on:{click:function(t){return e.removeUser(s)}}})]),a("el-tooltip",{attrs:{content:t.userName,effect:"dark",placement:"top"}},[a("avatar",{attrs:{user:t}})],1),e.tags?a("div",{staticStyle:{"line-height":"16px","padding-top":"8px"}},[e._v(e._s(t.userTag||t.userName))]):e._e(),a("div",{staticClass:"line"})],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}]},[a("i",{staticClass:"iconfont icon-tianjia pointer fs-22",on:{click:function(t){return e.showMemberTransfer("transfer")}}})]),a("members-transfer",{ref:"transfer",attrs:{multi:e.multi,role:e.role,step:e.step,users:e.users,invest:e.invest},on:{SAVE_USERS:e.setUsers}})],2)},i=[],n=a("7150"),o=a("8995"),r={components:{avatar:n["a"],membersTransfer:o["a"]},model:{prop:"users",event:"change"},props:{users:Array,step:{type:Boolean,default:function(){return!1}},edit:{type:Boolean,default:function(){return!0}},multi:{type:Boolean,default:function(){return!0}},placement:{type:String,default:function(){return"top"}},role:{type:Boolean,default:function(){return!1}},tags:{type:Boolean,default:function(){return!1}},invest:{type:Boolean,default:function(){return!1}}},computed:{},data:function(){return{}},methods:{setUsers:function(e){this.$emit("change",e),this.$emit("SET_USERS",e)},showMemberTransfer:function(e){this.$refs[""+e].show()},removeUser:function(e){var t=this.users;t.splice(e,1)}}},l=r,c=(a("44df"),a("4ac2")),u=Object(c["a"])(l,s,i,!1,null,"45d72c07",null);t["a"]=u.exports},"44df":function(e,t,a){"use strict";a("bfe1")},"519b":function(e,t,a){"use strict";a("0949")},bfe1:function(e,t,a){},c64b:function(e,t,a){},d85e:function(e,t,a){"use strict";a("c64b")}}]);