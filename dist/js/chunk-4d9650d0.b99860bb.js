(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d9650d0"],{"0358":function(t,e,i){(function(e){t.exports=e()})((function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(t,e){var i=t[0],n=t[1],r=t[2],s=t[3];i+=(n&r|~n&s)+e[0]-680876936|0,i=(i<<7|i>>>25)+n|0,s+=(i&n|~i&r)+e[1]-389564586|0,s=(s<<12|s>>>20)+i|0,r+=(s&i|~s&n)+e[2]+606105819|0,r=(r<<17|r>>>15)+s|0,n+=(r&s|~r&i)+e[3]-1044525330|0,n=(n<<22|n>>>10)+r|0,i+=(n&r|~n&s)+e[4]-176418897|0,i=(i<<7|i>>>25)+n|0,s+=(i&n|~i&r)+e[5]+1200080426|0,s=(s<<12|s>>>20)+i|0,r+=(s&i|~s&n)+e[6]-1473231341|0,r=(r<<17|r>>>15)+s|0,n+=(r&s|~r&i)+e[7]-45705983|0,n=(n<<22|n>>>10)+r|0,i+=(n&r|~n&s)+e[8]+1770035416|0,i=(i<<7|i>>>25)+n|0,s+=(i&n|~i&r)+e[9]-1958414417|0,s=(s<<12|s>>>20)+i|0,r+=(s&i|~s&n)+e[10]-42063|0,r=(r<<17|r>>>15)+s|0,n+=(r&s|~r&i)+e[11]-1990404162|0,n=(n<<22|n>>>10)+r|0,i+=(n&r|~n&s)+e[12]+1804603682|0,i=(i<<7|i>>>25)+n|0,s+=(i&n|~i&r)+e[13]-40341101|0,s=(s<<12|s>>>20)+i|0,r+=(s&i|~s&n)+e[14]-1502002290|0,r=(r<<17|r>>>15)+s|0,n+=(r&s|~r&i)+e[15]+1236535329|0,n=(n<<22|n>>>10)+r|0,i+=(n&s|r&~s)+e[1]-165796510|0,i=(i<<5|i>>>27)+n|0,s+=(i&r|n&~r)+e[6]-1069501632|0,s=(s<<9|s>>>23)+i|0,r+=(s&n|i&~n)+e[11]+643717713|0,r=(r<<14|r>>>18)+s|0,n+=(r&i|s&~i)+e[0]-373897302|0,n=(n<<20|n>>>12)+r|0,i+=(n&s|r&~s)+e[5]-701558691|0,i=(i<<5|i>>>27)+n|0,s+=(i&r|n&~r)+e[10]+38016083|0,s=(s<<9|s>>>23)+i|0,r+=(s&n|i&~n)+e[15]-660478335|0,r=(r<<14|r>>>18)+s|0,n+=(r&i|s&~i)+e[4]-405537848|0,n=(n<<20|n>>>12)+r|0,i+=(n&s|r&~s)+e[9]+568446438|0,i=(i<<5|i>>>27)+n|0,s+=(i&r|n&~r)+e[14]-1019803690|0,s=(s<<9|s>>>23)+i|0,r+=(s&n|i&~n)+e[3]-187363961|0,r=(r<<14|r>>>18)+s|0,n+=(r&i|s&~i)+e[8]+1163531501|0,n=(n<<20|n>>>12)+r|0,i+=(n&s|r&~s)+e[13]-1444681467|0,i=(i<<5|i>>>27)+n|0,s+=(i&r|n&~r)+e[2]-51403784|0,s=(s<<9|s>>>23)+i|0,r+=(s&n|i&~n)+e[7]+1735328473|0,r=(r<<14|r>>>18)+s|0,n+=(r&i|s&~i)+e[12]-1926607734|0,n=(n<<20|n>>>12)+r|0,i+=(n^r^s)+e[5]-378558|0,i=(i<<4|i>>>28)+n|0,s+=(i^n^r)+e[8]-2022574463|0,s=(s<<11|s>>>21)+i|0,r+=(s^i^n)+e[11]+1839030562|0,r=(r<<16|r>>>16)+s|0,n+=(r^s^i)+e[14]-35309556|0,n=(n<<23|n>>>9)+r|0,i+=(n^r^s)+e[1]-1530992060|0,i=(i<<4|i>>>28)+n|0,s+=(i^n^r)+e[4]+1272893353|0,s=(s<<11|s>>>21)+i|0,r+=(s^i^n)+e[7]-155497632|0,r=(r<<16|r>>>16)+s|0,n+=(r^s^i)+e[10]-1094730640|0,n=(n<<23|n>>>9)+r|0,i+=(n^r^s)+e[13]+681279174|0,i=(i<<4|i>>>28)+n|0,s+=(i^n^r)+e[0]-358537222|0,s=(s<<11|s>>>21)+i|0,r+=(s^i^n)+e[3]-722521979|0,r=(r<<16|r>>>16)+s|0,n+=(r^s^i)+e[6]+76029189|0,n=(n<<23|n>>>9)+r|0,i+=(n^r^s)+e[9]-640364487|0,i=(i<<4|i>>>28)+n|0,s+=(i^n^r)+e[12]-421815835|0,s=(s<<11|s>>>21)+i|0,r+=(s^i^n)+e[15]+530742520|0,r=(r<<16|r>>>16)+s|0,n+=(r^s^i)+e[2]-995338651|0,n=(n<<23|n>>>9)+r|0,i+=(r^(n|~s))+e[0]-198630844|0,i=(i<<6|i>>>26)+n|0,s+=(n^(i|~r))+e[7]+1126891415|0,s=(s<<10|s>>>22)+i|0,r+=(i^(s|~n))+e[14]-1416354905|0,r=(r<<15|r>>>17)+s|0,n+=(s^(r|~i))+e[5]-57434055|0,n=(n<<21|n>>>11)+r|0,i+=(r^(n|~s))+e[12]+1700485571|0,i=(i<<6|i>>>26)+n|0,s+=(n^(i|~r))+e[3]-1894986606|0,s=(s<<10|s>>>22)+i|0,r+=(i^(s|~n))+e[10]-1051523|0,r=(r<<15|r>>>17)+s|0,n+=(s^(r|~i))+e[1]-2054922799|0,n=(n<<21|n>>>11)+r|0,i+=(r^(n|~s))+e[8]+1873313359|0,i=(i<<6|i>>>26)+n|0,s+=(n^(i|~r))+e[15]-30611744|0,s=(s<<10|s>>>22)+i|0,r+=(i^(s|~n))+e[6]-1560198380|0,r=(r<<15|r>>>17)+s|0,n+=(s^(r|~i))+e[13]+1309151649|0,n=(n<<21|n>>>11)+r|0,i+=(r^(n|~s))+e[4]-145523070|0,i=(i<<6|i>>>26)+n|0,s+=(n^(i|~r))+e[11]-1120210379|0,s=(s<<10|s>>>22)+i|0,r+=(i^(s|~n))+e[2]+718787259|0,r=(r<<15|r>>>17)+s|0,n+=(s^(r|~i))+e[9]-343485551|0,n=(n<<21|n>>>11)+r|0,t[0]=i+t[0]|0,t[1]=n+t[1]|0,t[2]=r+t[2]|0,t[3]=s+t[3]|0}function n(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}function r(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return i}function s(t){var e,r,s,a,o,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)i(u,n(t.substring(e-64,e)));for(t=t.substring(e-64),r=t.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(i(u,s),e=0;e<16;e+=1)s[e]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(a[2],16),l=parseInt(a[1],16)||0,s[14]=o,s[15]=l,i(u,s),u}function a(t){var e,n,s,a,o,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)i(u,r(t.subarray(e-64,e)));for(t=e-64<c?t.subarray(e-64):new Uint8Array(0),n=t.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)s[e>>2]|=t[e]<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(i(u,s),e=0;e<16;e+=1)s[e]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(a[2],16),l=parseInt(a[1],16)||0,s[14]=o,s[15]=l,i(u,s),u}function o(t){var i,n="";for(i=0;i<4;i+=1)n+=e[t>>8*i+4&15]+e[t>>8*i&15];return n}function l(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t,e){var i,n=t.length,r=new ArrayBuffer(n),s=new Uint8Array(r);for(i=0;i<n;i+=1)s[i]=t.charCodeAt(i);return e?s:r}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function h(t,e,i){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),i?n:n.buffer}function p(t){var e,i=[],n=t.length;for(e=0;e<n-1;e+=2)i.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,i)}function d(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==l(s("hello"))&&function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(i,n){var r,s,a,o,l=this.byteLength,c=e(i,l),u=l;return n!==t&&(u=e(n,l)),c>u?new ArrayBuffer(0):(r=u-c,s=new ArrayBuffer(r),a=new Uint8Array(s),o=new Uint8Array(this,c,r),a.set(o),s)}}(),d.prototype.append=function(t){return this.appendBinary(c(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,r=this._buff.length;for(e=64;e<=r;e+=64)i(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},d.prototype.end=function(t){var e,i,n=this._buff,r=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(s,r),i=l(this._hash),t&&(i=p(i)),this.reset(),i},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,e){var n,r,s,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(i(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),s=parseInt(n[1],16)||0,t[14]=r,t[15]=s,i(this._hash,t)},d.hash=function(t,e){return d.hashBinary(c(t),e)},d.hashBinary=function(t,e){var i=s(t),n=l(i);return e?p(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var e,n=h(this._buff.buffer,t,!0),s=n.length;for(this._length+=t.byteLength,e=64;e<=s;e+=64)i(this._hash,r(n.subarray(e-64,e)));return this._buff=e-64<s?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,i,n=this._buff,r=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)s[e>>2]|=n[e]<<(e%4<<3);return this._finish(s,r),i=l(this._hash),t&&(i=p(i)),this.reset(),i},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=f(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=u(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var i=a(new Uint8Array(t)),n=l(i);return e?p(n):n},d}))},"047b":function(t,e,i){"use strict";i("4327")},4327:function(t,e,i){},9212:function(t,e,i){},"9a4a":function(t,e,i){"use strict";i("9212")},af06:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px","append-to-body":!0,"show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-xiangmuguanli"}),t._v(" 文件历史版本\n      ")]),i("div",{staticClass:"options",staticStyle:{display:"flex","align-items":"center"}},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideDialog()}}})]),i("div",{staticClass:"clear"})]),i("div",{staticClass:"main-wrap"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"header-cell-style":{background:"#fdfdfd"}}},[i("el-table-column",{attrs:{label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("img",{staticStyle:{"margin-right":"10px",height:"22px"},attrs:{src:t.item.icon}}),i("span",{staticClass:"pointer"},[t._v(t._s(e.row.fileName))])])]}}])}),i("el-table-column",{attrs:{label:"修改时间（修改人）",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("formatDiskTime")(e.row.editTime))+t._s(e.row.editor&&e.row.editor.userName?"（"+e.row.editor.userName+"）":"")+"\n          ")]}}])}),i("el-table-column",{attrs:{label:"大小",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("formatSize")(e.row.fileSize,2))+"\n          ")]}}])}),i("el-table-column",{attrs:{label:"版本号",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.versionName)+"\n          ")]}}])}),i("el-table-column",{attrs:{label:"是否最新",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.isLatest?"是":"否")+"\n          ")]}}])})],1)],1)]),i("el-dialog",{attrs:{visible:t.preDialogVisible,width:"900px","append-to-body":!0,"show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.preDialogVisible=e}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-xiangmuguanli"}),t._v(" 上传新版本\n      ")]),i("div",{staticClass:"options",staticStyle:{display:"flex","align-items":"center"}},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideDialog()}}})]),i("div",{staticClass:"clear"})]),i("div",{staticClass:"main-wrap"},[i("div",{staticStyle:{display:"flex","align-items":"center",padding:"15px 0","border-bottom":"solid 1px #e7e7e7"}},[i("img",{staticStyle:{width:"40px","margin-right":"10px"},attrs:{src:t.version.icon}}),i("div",[i("span",{staticStyle:{"font-size":"14px",color:"#333"}},[t._v(t._s(t.version.fileName))]),i("br"),i("span",{staticStyle:{"font-size":"12px",color:"#888"}},[t._v(t._s(t._f("formatDiskTime")(t.version.editTime))+t._s(t.version.editor&&t.version.editor.userName?"（"+t.version.editor.userName+"）":""))])])]),i("div",{staticStyle:{width:"100%",padding:"10px 0","ont-size":"12px",color:"#888"}},[t._v("更换为：")]),i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("img",{staticStyle:{width:"40px","margin-right":"10px"},attrs:{src:t.version.icon}}),i("span",{staticStyle:{"font-size":"14px",color:"#333","margin-right":"auto"}},[t._v(t._s(t.preFile.name))]),i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.shoUploadFile()}}},[t._v("重新选择")])],1),i("div",{staticStyle:{width:"100%","text-align":"right","margin-top":"10px"}},[i("el-button",{attrs:{type:"default",stype:"margin-right:20px"},on:{click:t.hideDialog}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.uploadVersion}},[t._v("上传")])],1)])]),i("el-upload",{ref:"upload",staticStyle:{width:"0",height:"0",opacity:"0"},attrs:{action:"","auto-upload":!1,"show-file-list":!1,"on-change":t.onFileChange}},[i("el-button",{attrs:{size:"small",type:"text",id:"fileBtnVersion"}})],1)],1)},r=[],s=i("f4e6"),a=s["a"],o=(i("9a4a"),i("047b"),i("4ac2")),l=Object(o["a"])(a,n,r,!1,null,"1623def4",null);e["default"]=l.exports},f4e6:function(t,e,i){"use strict";(function(t){i("a450");var n=i("1f6d"),r=i("0358"),s=i.n(r),a=i("f753"),o=i.n(a),l={};e["a"]={name:"",components:{},props:{item:{type:Object,default:function(){return{}}}},computed:{process:function(){return this.$store.getters.diskProcess}},data:function(){return{dialogVisible:!1,list:[],version:{},preDialogVisible:!1,preFile:{}}},mounted:function(){},methods:{showDialog:function(){this.dialogVisible=!0,this.list=[],this.getVersion(),console.log(this.item)},hideDialog:function(){this.dialogVisible=!1,this.preDialogVisible=!1},getVersion:function(){var t=this,e={typedId:this.item.typedId};n["a"].getPreviewDetail(e).then((function(e){200===e.code&&(t.list=e.data.versions)})).catch((function(t){console.log(t)}))},shoUploadFile:function(e){l=e||l,console.log(l),t("#fileBtnVersion").click()},onFileChange:function(t){this.preDialogVisible=!0,this.preFile=t,this.version=l},uploadVersion:function(){this.hideDialog(),this.preFile.status={name:"准备中",value:"ready",process:0},this.process.unshift(this.preFile),this.computeMD5(this.preFile)},computeMD5:function(t){var e="",i=this,r=new FileReader,a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,o=0,l=1024e7,c=Math.ceil(t.size/l),u=new s.a.ArrayBuffer;function f(){var e=o*l,i=e+l>=t.size?t.size:e+l;r.readAsArrayBuffer(a.call(t.raw,e,i))}t.parentTypedId=i.version.parent?i.version.parent.typedId:"",t.status={name:"文件校验",value:"md5",process:"0"},i.dispatchFile(t),f(),r.onload=function(r){if(u.append(r.target.result),e=e||r.target.result,o<c)o++,f(),t.status.process=(o/c*100).toFixed(0)+"%",i.dispatchFile(t);else{var s=u.end(),a={parentTypedId:i.version.parent?i.version.parent.typedId:"",typedId:i.version.typedId,md5:s,fileSize:t.size,fileName:t.name,contentType:t.raw.type};n["a"].getPreSignNewVersion(a).then((function(n){200===n.code&&(t.presignUrl=n.data.presignUrl,t.headers={"Content-Type":t.raw.type,"x-oss-callback":n.data.callback.ossCallback,"x-oss-callback-var":n.data.callback.ossCallbackVar},t.result=e,i.uploadFile(t))})).catch((function(t){console.log(t)}))}},r.onerror=function(){t.status.name="出错",t.status.value="error",t.status.status="exception",i.dispatchFile(t),t.cancel()}},uploadFile:function(t){var e=this;t.status={name:"文件上传：",value:"upload",process:"0"},e.dispatchFile(t),o()({method:"put",url:t.presignUrl,headers:t.headers,data:t.result,onUploadProgress:function(i){t.status.process=(i.loaded/i.total*100|0)+"%",e.dispatchFile(t)}}).then((function(i){i&&i.data&&"OK"===i.data.Status?(t.status={name:"文件保存：",value:"finish",process:"100%"},e.dispatchFile(t),e.$store.dispatch("SET_REFRESH_VERSION",1),e.$emit("REFRESH")):(t.status.name="出错",t.status.value="error",t.status.status="exception",e.dispatchFile(t))}))},dispatchFile:function(t){for(var e in this.process)if(t.uid===this.process[e].uid)return this.process[e]=t,void this.$store.dispatch("SET_DISK_LIST",this.process)}}}}).call(this,i("c65b"))}}]);