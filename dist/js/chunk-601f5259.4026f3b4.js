(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601f5259"],{"06c4":function(t,e,i){},2918:function(t,e,i){},"2ff9":function(t,e,i){"use strict";i("2918")},"4dc4":function(t,e,i){"use strict";i("06c4")},c7e7:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.btn?i("el-button",{attrs:{type:"text"},on:{click:t.showDialog}},[i("i",{staticClass:"iconfont icon-fuzhi1",staticStyle:{"margin-right":"5px"}}),t._v("复制到")]):t._e(),i("el-dialog",{attrs:{visible:t.dialogVisible,width:"400px","append-to-body":!0,"show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[i("i",{staticClass:"iconfont icon-xiangmuguanli"}),t._v(" 复制到\n      ")]),i("div",{staticClass:"options",staticStyle:{display:"flex","align-items":"center"}},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){return t.hideDialog()}}})]),i("div",{staticClass:"clear"})]),i("div",{staticClass:"main-wrap"},[i("el-form",{ref:"detail",attrs:{model:t.detail,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"复制内容"}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"wrap"}},t._l(t.items,(function(e,a){return i("div",{key:a,staticStyle:{display:"flex","align-items":"center","margin-right":"5px"}},[i("img",{staticStyle:{width:"16px","margin-right":"5px"},attrs:{src:e.icon}}),t._v("\n              "+t._s(e.fileName)+"\n              "),i("span",{directives:[{name:"show",rawName:"v-show",value:a<t.items.length-1,expression:"index<items.length-1"}]},[t._v("、")])])})),0)]),i("el-form-item",{attrs:{label:"复制路径",prop:""}},[i("el-tree",{staticClass:"dept-tree",staticStyle:{"margin-top":"-5px"},attrs:{props:t.props,load:t.loadNode,lazy:"","expand-on-click-node":!1},on:{"node-click":t.setPaths},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,n=e.data;return i("div",{staticClass:"custom-tree-node",style:{marginLeft:-24-18*n.level+"px",paddingLeft:24+18*n.level+"px"}},[i("i",{staticClass:"iconfont icon-xiangmu",staticStyle:{"margin-right":"5px"}}),i("span",{staticStyle:{padding:"3px 5px","border-radius":"3px"},style:{background:n.selectable?"":"#f2f2f2",cursor:n.selectable?"":"not-allowed"}},[t._v(t._s(a.label))])])}}])})],1),i("el-form-item",{attrs:{label:"","label-width":"0"}},[i("div",{staticClass:"w-100p",staticStyle:{"text-align":"center"}},[t.file.name?i("div",{staticStyle:{width:"100%",height:"50px",background:"#f7f7f7","line-height":"50px","text-align":"center","margin-bottom":"20px"}},[t._v("\n              选中文件夹："+t._s(t.file.name)+"\n            ")]):t._e(),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("确定")])],1)])],1)],1)])],1)},n=[],s=i("1f6d"),l={name:"",components:{},props:{items:{type:Array,default:function(){return[]}},btn:{type:Boolean,default:function(){return!0}}},data:function(){return{dialogVisible:!1,detail:{},tree:[],props:{label:"name",isLeaf:"leaf"},file:{},counter:0}},mounted:function(){},methods:{showDialog:function(){this.dialogVisible=!0},hideDialog:function(){this.dialogVisible=!1},save:function(){var t=this;this.file.id?(this.counter=0,this.items.map((function(e){t.copyFiles(e)}))):this.$message.warning({message:"请选择合法的路径！",duration:1500})},loadNode:function(t,e){if(0===t.level&&s["a"].getFolderTree({typedId:""}).then((function(t){if(200===t.code){var i=[];return t.data.map((function(t){i.push({name:t.folderName,id:t.typedId,selectable:t.selectable})})),e(i)}})).catch((function(t){console.log(t)})),t.level>0){var i={typedId:t.data.id};s["a"].getFolderTree(i).then((function(t){if(200===t.code){var i=[];return t.data.map((function(t){i.push({name:t.folderName,id:t.typedId,leaf:!t.withSubFolder,selectable:t.selectable})})),e(i)}})).catch((function(t){console.log(t)}))}},setPaths:function(t){t.selectable?this.file=t:(this.$message.warning({message:"当前路径不可选！",duration:1500}),this.file={})},copyFiles:function(t){var e=this,i={shareId:t.shareId||"",typedId:t.typedId,toTypedId:this.file.id};s["a"].copyTo(i).then((function(t){200===t.code&&(e.counter++,e.counter===e.items.length&&(e.$message.success({message:"操作成功！",duration:1500}),e.hideDialog(),e.$emit("REFRESH")))})).catch((function(t){console.log(t)}))}}},o=l,c=(i("4dc4"),i("2ff9"),i("4ac2")),r=Object(c["a"])(o,a,n,!1,null,"6038d79e",null);e["default"]=r.exports}}]);