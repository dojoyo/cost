(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b894d50","chunk-2d22c102"],{"049a":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-container",[l("el-header",{staticClass:"header"},[l("div",{staticClass:"header-wrap",staticStyle:{display:"flex"}},[l("div",{staticClass:"title"},[l("i",{staticClass:"iconfont icon-gongzitiao1"}),t._v(" 工资条管理-标准年薪表格\n        ")]),l("div",{staticStyle:{"margin-left":"auto"}})])]),l("el-main",{staticClass:"main"},[l("div",{staticClass:"w-100p"},[l("el-select",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"年份"},model:{value:t.search.year,callback:function(e){t.$set(t.search,"year",e)},expression:"search.year"}},[l("el-option",{key:"",attrs:{label:"全部",value:""}}),t._l(t.enumType.year,(function(t){return l("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}))],2),l("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{size:"medium",placeholder:"输入部门或人员姓名搜索"},model:{value:t.search.filter,callback:function(e){t.$set(t.search,"filter",e)},expression:"search.filter"}}),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getList()}}},[t._v("查询")]),l("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:t.exportExcel}},[l("i",{staticClass:"iconfont icon-xiazai fs-12"}),t._v(" 导出数据")])],1),l("el-table",{directives:[{name:"show",rawName:"v-show",value:t.list&&t.list.length>0,expression:"list && list.length>0"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.list,border:"","show-summary":""}},[l("el-table-column",{attrs:{prop:"",label:"年份",width:"80",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.issueYear)+"\n          ")]}}])}),l("el-table-column",{attrs:{prop:"name",label:"姓名",width:"80",fixed:"left"}}),l("el-table-column",{attrs:{prop:"dept",label:"部门",width:"120"}}),l("el-table-column",{attrs:{prop:"identityNumber",label:"身份证号",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticStyle:{position:"relative"}},[t._v("\n              "+t._s(e.row.identityNumber)+"\n              "),l("div",{staticStyle:{position:"absolute",top:"0",left:"0",width:"3px",height:"20px",background:"#fff"}})])]}}])}),l("el-table-column",{attrs:{prop:"currency.name",label:"币种",width:"80"}}),l("el-table-column",{attrs:{prop:"effectiveDate",label:"生效日期",width:"170"}}),l("el-table-column",{attrs:{prop:"standardAnnualSalary",label:"标准年薪（税前）",width:"150"}}),l("el-table-column",{attrs:{prop:"monthlySalary",label:"月薪（税前）",width:"120"}}),l("el-table-column",{attrs:{prop:"thirteenthSalary",label:"第13薪（税前）",width:"150"}}),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v("编辑")])]}}])})],1),l("div",{staticClass:"txt-right"},[t.list&&t.list.length>0?l("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.pageNum,"page-sizes":[5,10,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),l("div",{directives:[{name:"show",rawName:"v-show",value:t.list&&0===t.list.length,expression:"list && list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[l("img",{attrs:{src:a("f244")}}),l("br"),l("span",{staticStyle:{"font-size":"14px"}},[t._v("暂无数据")]),l("br"),l("br")])],1),l("el-dialog",{attrs:{visible:t.detail.dialogVisible,width:"850px","append-to-body":!0,"show-close":!1,top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){return t.$set(t.detail,"dialogVisible",e)}}},[l("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[l("div",{staticClass:"title"},[l("i",{staticClass:"iconfont icon-gongzitiao1"}),t._v(" 编辑\n        ")]),l("div",{staticClass:"options"},[l("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(e){t.detail.dialogVisible=!1}}})]),l("div",{staticClass:"clear"})]),l("el-form",{ref:"detail",attrs:{model:t.detail.form,"label-width":"140px"}},[l("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[l("div",{staticStyle:{width:"48%"}},[l("el-form-item",{attrs:{label:"年份",prop:"issueYear"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"年份"},model:{value:t.detail.form.issueYear,callback:function(e){t.$set(t.detail.form,"issueYear",e)},expression:"detail.form.issueYear"}},t._l(t.enumType.year,(function(t){return l("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),l("el-form-item",{attrs:{label:"部门",prop:"dept"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:t.detail.form.dept,callback:function(e){t.$set(t.detail.form,"dept",e)},expression:"detail.form.dept"}})],1),l("el-form-item",{attrs:{label:"币种",prop:"currency"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"币种"},model:{value:t.detail.form.currency,callback:function(e){t.$set(t.detail.form,"currency",e)},expression:"detail.form.currency"}},t._l(t.enumType.HrCcy,(function(t){return l("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),l("el-form-item",{attrs:{label:"标准年薪（税前）",prop:"standardAnnualSalary"}},[l("el-input",{attrs:{placeholder:""},model:{value:t.detail.form.standardAnnualSalary,callback:function(e){t.$set(t.detail.form,"standardAnnualSalary",e)},expression:"detail.form.standardAnnualSalary"}})],1),l("el-form-item",{attrs:{label:"第13薪（税前）",prop:"thirteenthSalary"}},[l("el-input",{attrs:{placeholder:""},model:{value:t.detail.form.thirteenthSalary,callback:function(e){t.$set(t.detail.form,"thirteenthSalary",e)},expression:"detail.form.thirteenthSalary"}})],1)],1),l("div",{staticStyle:{width:"48%"}},[l("el-form-item",{attrs:{label:"姓名",prop:"name"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:t.detail.form.name,callback:function(e){t.$set(t.detail.form,"name",e)},expression:"detail.form.name"}})],1),l("el-form-item",{attrs:{label:"身份证号",prop:"identityNumber"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:t.detail.form.identityNumber,callback:function(e){t.$set(t.detail.form,"identityNumber",e)},expression:"detail.form.identityNumber"}})],1),l("el-form-item",{attrs:{label:"生效日期",prop:"effectiveDate"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择时间"},model:{value:t.detail.form.effectiveDate,callback:function(e){t.$set(t.detail.form,"effectiveDate",e)},expression:"detail.form.effectiveDate"}})],1),l("el-form-item",{attrs:{label:"月薪（税前）",prop:"monthlySalary"}},[l("el-input",{attrs:{placeholder:""},model:{value:t.detail.form.monthlySalary,callback:function(e){t.$set(t.detail.form,"monthlySalary",e)},expression:"detail.form.monthlySalary"}})],1)],1)]),l("el-form-item",{attrs:{label:""}},[l("div",{staticClass:"w-100p",staticStyle:{"text-align":"left"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("确定")]),l("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){t.detail.dialogVisible=!1}}},[t._v("取消")])],1)])],1)],1)],1)},i=[],r=(a("d91d"),a("dc27")),n={name:"",components:{},props:{},data:function(){return{enumType:{"PayslipType.YE":[],year:[]},search:{filter:"",monthly:"",year:"",monthlySalaryType:""},list:[],pageNum:1,pageSize:10,total:10,detail:{dialogVisible:!1,form:{}}}},mounted:function(){this.getEnum("HrCcy"),this.getList(),this.initYears()},destroyed:function(){},methods:{getEnum:function(t,e){var a=this;r["a"].getEnum(t).then((function(l){200===l.code&&(e&&l.data.unshift({name:"全部",value:""}),a.$set(a.enumType,t,l.data))})).catch((function(t){console.log(t)}))},initYears:function(){var t=(new Date).getFullYear();this.enumType.year=[];for(var e=2020;e<=t;e++)this.enumType.year.push({name:e+"年",value:e});this.enumType.year.reverse()},getList:function(){var t=this,e={year:this.search.year,filter:this.search.filter,pageNum:this.pageNum,pageSize:this.pageSize};r["a"].getSalaryByType(e,"annualSalary").then((function(e){200===e.code&&(e.data.annualSalaryDto.list.map((function(t){t.identityNumber="|"+t.identityNumber})),t.list=e.data.annualSalaryDto.list,t.total=e.data.annualSalaryDto.total)})).catch((function(t){console.log(t)}))},exportExcel:function(){var t={year:this.search.year,filter:this.search.filter,pageNum:this.pageNum,pageSize:this.pageSize};r["a"].exportSalaryByType(t,"annualSalary").then((function(t){var e=t.headers,a=decodeURIComponent(e["x-file-name"]),l=new Blob([t.data],{type:e["content-type"]}),i=document.createElement("a");i.href=window.URL.createObjectURL(l),i.download=a,i.click()})).catch((function(t){console.log(t)}))},handleSizeChange:function(t){this.pageSize=t,this.pageNum=1,this.getList()},handleCurrentChange:function(t){this.pageNum=t,this.getList()},showDetail:function(t){this.detail.form=Object.assign({},t),this.detail.form.currency=this.detail.form.currency.value,this.detail.form.identityNumber=this.detail.form.identityNumber.substring(1),this.detail.dialogVisible=!0},save:function(){var t=this,e=this.detail.form;r["a"].saveSalaryByType(e,this.detail.form.totalAnnualIncomeId,"annualSalary").then((function(e){200===e.code&&(t.$message.success({message:"操作成功！",duration:1500}),t.getList(),t.detail.dialogVisible=!1)})).catch((function(t){console.log(t)}))}}},s=n,o=(a("7de6"),a("4ac2")),c=Object(o["a"])(s,l,i,!1,null,"3cd2461a",null);e["default"]=c.exports},6480:function(t,e,a){},"69b0":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"7de6":function(t,e,a){"use strict";a("6480")},d91d:function(t,e,a){"use strict";var l=a("a86f"),i=a("69b0"),r=a("f417");a("c46f")("search",1,(function(t,e,a,n){return[function(a){var l=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,l):new RegExp(a)[e](String(l))},function(t){var e=n(a,t,this);if(e.done)return e.value;var s=l(t),o=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var d=r(s,o);return i(s.lastIndex,c)||(s.lastIndex=c),null===d?-1:d.index}]}))},dc27:function(t,e,a){"use strict";var l=a("b775");e["a"]={getEnum:function(t){return Object(l["a"])({url:"/enum/"+t,method:"get"})},getPayslipList:function(t){return Object(l["a"])({url:"/hr/payslip/pc/list",method:"post",data:t})},getPayslipListDetail:function(t,e){return Object(l["a"])({url:"/hr/payslip/pc/list/"+e+"/"+t+"/view",method:"get"})},getPayslipTemplate:function(t){return Object(l["a"])({url:"/hr/payslip/pc/importTemplate",method:"get",params:t,responseType:"arraybuffer"})},changePayslipState:function(t,e){return Object(l["a"])({url:"/hr/payslip/pc/"+e+"/changeState",method:"post",data:t})},deletePayslip:function(t){return Object(l["a"])({url:"/hr/payslip/pc/"+t+"/delete",method:"post"})},savePayslipList:function(t,e){return Object(l["a"])({url:"/hr/payslip/pc/"+e+"/importSave",method:"post",data:t})},getSalaryByType:function(t,e){return Object(l["a"])({url:"/hr/payslip/pc/"+e+"/list",method:"get",params:t})},saveSalaryByType:function(t,e,a){return Object(l["a"])({url:"/hr/payslip/pc/"+a+"/"+e+"/edit",method:"post",data:t})},exportSalaryByType:function(t,e){return Object(l["a"])({url:"/hr/payslip/pc/"+e+"/export",method:"post",data:t,responseType:"arraybuffer"})}}},f244:function(t,e){t.exports="data:image/png;base64,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"}}]);