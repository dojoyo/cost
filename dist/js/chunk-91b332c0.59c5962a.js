(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91b332c0"],{"1fc9":function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"icon-menu",style:{height:e.height+"px"}},[e._m(0),t("ul",e._l(e.menu,(function(s,i){return t("li",{directives:[{name:"show",rawName:"v-show",value:s.isRight,expression:"item.isRight"}],key:i,class:s.isActive?"active":"",on:{click:function(s){return e.clickMenu(i)}}},[t("i",{class:"iconfont off "+s.iconOff}),t("i",{class:"iconfont on "+s.iconOn}),t("span",{directives:[{name:"show",rawName:"v-show",value:"消息"===s.name&&e.message>0,expression:"item.name==='消息' && message>0"}],staticClass:"tips"},[e._v(e._s(e.message>99?"99+":e.message))]),t("span",{directives:[{name:"show",rawName:"v-show",value:"审批"===s.name&&e.approval>0,expression:"item.name==='审批' && approval>0"}],staticClass:"tips"},[e._v(e._s(e.approval>99?"99+":e.approval))]),t("span",{staticClass:"name"},[e._v(e._s(s.name||" "))]),s.childList&&s.childList.length>0?t("div",{staticClass:"sub-icon-menu-wrap",style:{bottom:172+70*(e.sideMenuCounter-1)-e.height+"px",top:-100-70*(e.sideMenuCounter-1)+"px"},on:{click:function(e){e.stopPropagation()}}},e._l(s.childList,(function(s,n){return t("div",{key:n},[t("div",{staticClass:"s-title"},[e._v(e._s(s.title))]),t("div",{staticClass:"s-wrap"},e._l(s.childList,(function(s,a){return t("span",{directives:[{name:"show",rawName:"v-show",value:s.isRight,expression:"sub.isRight"}],key:a,staticClass:"sub-icon",on:{click:function(s){return e.clickSubMenu(i,n,a)}}},[t("i",{class:"iconfont "+s.icon+" "+s.color}),t("br"),e._v(e._s(s.name)+"\n              ")])})),0)])})),0):e._e()])})),0)]),e.avatar?t("div",{staticClass:"user",on:{click:function(s){e.userSettingVisible=!e.userSettingVisible}}},[t("avatar",{attrs:{user:e.avatar}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.userSettingVisible,expression:"userSettingVisible"}],staticClass:"user-setting"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasRight(5),expression:"hasRight(5)"}],staticClass:"setting-list",on:{click:function(s){return e.$router.push({path:"/system/account"})}}},[t("i",{staticClass:"iconfont icon-zhanghaoziliaoshezhi"}),e._v(" 账号资料设置\n      ")]),t("span",{staticClass:"block-line"}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasRight(1),expression:"hasRight(1)"}],staticClass:"setting-list",on:{click:function(s){return e.$router.push({path:"/system/dashboard"})}}},[t("i",{staticClass:"iconfont icon-houtaizonglan"}),e._v(" 进入企业后台\n      ")]),t("span",{staticClass:"setting-list",on:{click:e.logout}},[t("i",{staticClass:"iconfont icon-dengchu"}),e._v(" 登出当前企业\n      ")])])])},n=[function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticClass:"logo"},[i("img",{staticStyle:{height:"40px"},attrs:{src:t("6d04")}})])}],a=(t("a450"),t("7150")),c=t("ed08"),o={computed:{menu:function(){var e=this.$store.getters.path,s=this.$store.getters.menu;for(var t in s)switch(s[t].name){case"OKR":s[t].isActive=0===e.indexOf("/okr");break;case"简报":s[t].isActive=0===e.indexOf("/report");break;case"消息":s[t].isActive=0===e.indexOf("/message");break;case"跟投":s[t].isActive=0===e.indexOf("/invest");break;case"签到":s[t].isActive=0===e.indexOf("/sign");break;case"评分":s[t].isActive=0===e.indexOf("/score");break;case"投管":s[t].isActive=0===e.indexOf("/manage");break;case"官网":s[t].isActive=0===e.indexOf("/website");break;case"日程":s[t].isActive=0===e.indexOf("/schedule");break;case"会议室":s[t].isActive=0===e.indexOf("/meeting");break;case"审批":s[t].isActive=0===e.indexOf("/approve");break;case"归档":s[t].isActive=0===e.indexOf("/document");break;case"资讯":s[t].isActive=0===e.indexOf("/information");break;case"订阅":s[t].isActive=0===e.indexOf("/subscription");break;case"广告":s[t].isActive=0===e.indexOf("/advertising");break;case"知识库":s[t].isActive=0===e.indexOf("/knowledge")||0===e.indexOf("/repository");break;case"人力":s[t].isActive=0===e.indexOf("/hr");break;case"财务":s[t].isActive=0===e.indexOf("/finance");break;case"云盘":s[t].isActive=0===e.indexOf("/disk");break;case"风向标":s[t].isActive=0===e.indexOf("/indicator");break}return s},version:function(){return this.$store.getters.version},user:function(){return this.$store.getters.user},message:function(){return this.$store.getters.messageCount},approval:function(){var e=this.$store.getters.approveCount,s=0;for(var t in e)s+=e[t];return s}},components:{avatar:a["a"]},data:function(){return{userSettingVisible:!1,avatar:"",height:"",sideMenuCounter:0}},mounted:function(){this.avatar={userAvatar:this.user.user.jwtClaims.ua,userId:this.user.user.jwtClaims.id,userName:this.user.user.jwtClaims.un,size:45},this.height=document.documentElement.clientHeight;var e=this.user?this.user.user.jwtClaims.ar:[];for(var s in this.menu){for(var t in this.menu[s].isRight=!this.menu[s].code||c["a"].hasRight(e,this.menu[s].code),this.sideMenuCounter=this.menu[s].isRight?this.sideMenuCounter+1:this.sideMenuCounter,this.menu[s].sideMenu)this.menu[s].sideMenu[t].isRight=!this.menu[s].sideMenu[t].code||c["a"].hasRight(e,this.menu[s].sideMenu[t].code);for(var i in this.menu[s].childList)for(var n in this.menu[s].childList[i].isRight=!this.menu[s].code||c["a"].hasRight(e,this.menu[s].childList[i].code),this.menu[s].childList[i].childList)this.menu[s].childList[i].childList[n].isRight=!this.menu[s].code||c["a"].hasRight(e,this.menu[s].childList[i].childList[n].code)}this.getMsg(),setTimeout((function(){}),500),this.conectSocket()},methods:{clickMenu:function(e){var s=this;if(!this.menu[e].isActive)if(this.$store.dispatch("SetMenu",e),this.menu[e].path)this.$router.push({path:this.menu[e].path});else if(this.menu[e].childList)this.$router.push({path:this.menu[e].childList[0].path});else if(this.menu[e].sideMenu&&this.menu[e].sideMenu.length>0){var t=this.menu[e].sideMenu,i=!0;t.map((function(e){s.hasRight(e.code)&&i&&(e.path?(s.$router.push({path:e.path}),i=!1):e.children&&e.children.length>0&&e.children.map((function(e){s.hasRight(e.code)&&i&&e.path&&(s.$router.push({path:e.path}),i=!1)})))}))}},clickSubMenu:function(e,s,t){this.$store.dispatch("SetChildMenu",[e,s]),this.menu[e].childList[s].path?this.$router.push({path:this.menu[e].childList[s].path}):this.menu[e].childList[s].childList&&this.$router.push({path:this.menu[e].childList[s].childList[t].childList[0].path})},logout:function(){var e=this;this.$store.dispatch("Logout","").then((function(){e.$message.success({message:"登出成功",duration:1500}),e.$router.push({path:"/"})})).catch((function(e){console.log(e)}))},hasRight:function(e){var s=this.user?this.user.user.jwtClaims.ar:[];return c["a"].hasRight(s,e)},getMsg:function(){this.$store.dispatch("GetMessageCount").then((function(){})).catch((function(e){console.log(e)}))},initWebSocket:function(){this.websocket.onerror=this.setErrorMessage,this.websocket.onopen=this.setOnopenMessage,this.websocket.onmessage=this.setOnmessageMessage,this.websocket.onclose=this.setOncloseMessage,window.onbeforeunload=this.onbeforeunload},setErrorMessage:function(){console.log("WebSocket连接发生错误   状态码："+this.websocket.readyState)},setOnopenMessage:function(){console.log("WebSocket连接成功   状态码："+this.websocket.readyState)},setOnmessageMessage:function(e){this.getMsg()},setOncloseMessage:function(){console.log("WebSocket连接关闭   状态码："+this.websocket.readyState),this.conectSocket()},onbeforeunload:function(){this.closeWebSocket()},conectSocket:function(){var e="https://dev-api.cgvcap.com".indexOf("https")>-1?"wss://":"ws://";this.socketUrl=e+"https://dev-api.cgvcap.com".substring("https://dev-api.cgvcap.com".indexOf("//")+2),"WebSocket"in window?(this.websocket=new WebSocket(this.socketUrl+"/websocket/message/"+this.user.user.jwtClaims.id),this.initWebSocket()):alert("当前浏览器 Not support websocket")},send:function(){this.websocket.send(this.text),this.text=""},closeWebSocket:function(){this.websocket.close()}}},h=o,r=(t("d4ad"),t("4ac2")),u=Object(r["a"])(h,i,n,!1,null,"2600c20f",null);s["default"]=u.exports},"36eb":function(e,s,t){},"6d04":function(e,s){e.exports="data:image/png;base64,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"},d4ad:function(e,s,t){"use strict";t("36eb")}}]);