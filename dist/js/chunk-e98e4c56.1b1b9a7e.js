(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e98e4c56","chunk-2d22c102"],{"1c59":function(e,t,r){"use strict";r("ccaa")},"4c10":function(e,t,r){"use strict";r("572b")},"572b":function(e,t,r){},9090:function(e,t,r){"use strict";var i=r("b775");t["a"]={getEnumTypes:function(e){return Object(i["a"])({url:"/enum/"+e,method:"get"})},getUserList:function(e){return Object(i["a"])({url:"/ivf/user/list",method:"post",data:e})},isUserExist:function(e){return Object(i["a"])({url:"/ivf/user/addSearch",method:"post",data:e})},addUser:function(e){return Object(i["a"])({url:"/ivf/user/add",method:"post",data:e})},editUser:function(e,t){return Object(i["a"])({url:"/ivf/user/"+t+"/edit",method:"post",data:e})},deleteUser:function(e){return Object(i["a"])({url:"/ivf/user/"+e+"/delete",method:"post"})},getUserDetail:function(e){return Object(i["a"])({url:"/ivf/user/"+e,method:"get"})},exportUser:function(){return Object(i["a"])({url:"/ivf/user/export",method:"post",responseType:"arraybuffer"})},importTemplate:function(){return Object(i["a"])({url:"/ivf/user/importTemplate",method:"get",responseType:"arraybuffer"})},saveImportUser:function(e){return Object(i["a"])({url:"/ivf/user/importSave",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getReviewList:function(e){return Object(i["a"])({url:"/ivf/review/list",method:"post",data:e})},getProjectList:function(e){return Object(i["a"])({url:"/ivf/project/list",method:"post",data:e})},addProject:function(e){return Object(i["a"])({url:"/ivf/project/add",method:"post",data:e})},updateProject:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateProjectReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},deleteProject:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/delete",method:"post"})},getProjectDetail:function(e){return Object(i["a"])({url:"/ivf/project/"+e,method:"get"})},getProjectDetailReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/reviewing",method:"get"})},setProjectLock:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/lock",method:"post",data:e})},reviewPass:function(e){return Object(i["a"])({url:"/ivf/review/"+e+"/pass",method:"post"})},reviewReject:function(e){return Object(i["a"])({url:"/ivf/review/"+e+"/reject",method:"post"})},getReviewDetailPB:function(e){return Object(i["a"])({url:"/ivf/review/PB/"+e,method:"get"})},getProjectDynamic:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/dynamic",method:"post"})},updateProjectDynamic:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/dynamic/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateProjectDynamicReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/dynamic/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getProjectDynamicReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/dynamic/reviewing",method:"get"})},getReviewDetailPD:function(e){return Object(i["a"])({url:"/ivf/review/PD/"+e,method:"get"})},setProjectDynamicLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/dynamic/"+r+"/lock",method:"post",data:e})},getInvestUsers:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investUsers",method:"post",data:e})},updateInvestUsers:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investUsers/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateInvestUsersReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/investUsers/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getInvestUsersReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/investUsers/reviewing",method:"get"})},setInvestUserLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/investUser/"+r+"/lock",method:"post",data:e})},getReviewDetailPU:function(e){return Object(i["a"])({url:"/ivf/review/PU/"+e,method:"get"})},getPayment:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/payment",method:"post",data:e})},setPaymentLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/payment/"+r+"/lock",method:"post",data:e})},updatePayment:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/payment/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updatePaymentReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/payment/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getPaymentReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/payment/reviewing",method:"get"})},getReviewDetailPP:function(e){return Object(i["a"])({url:"/ivf/review/PP/"+e,method:"get"})},getRepayment:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/repayment",method:"post",data:e})},setRepaymentLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/repayment/"+r+"/lock",method:"post",data:e})},updateRepayment:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/repayment/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateRepaymentReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/repayment/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getRepaymentReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/repayment/reviewing",method:"get"})},getReviewDetailPR:function(e){return Object(i["a"])({url:"/ivf/review/PR/"+e,method:"get"})},getProfit:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/allocate",method:"post",data:e})},setProfitLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/allocate/"+r+"/lock",method:"post",data:e})},updateProfit:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/allocate/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateProfitReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/allocate/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getProfitReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/allocate/reviewing",method:"get"})},getProfitDetailPI:function(e){return Object(i["a"])({url:"/ivf/review/PI/"+e,method:"get"})},calculateProfit:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/allocate/calculate",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},paymentChecked:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/payment/check",method:"post",data:e})},repaymentChecked:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/repayment/calculate",method:"post",data:e})},importInvestUsersTemplate:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/investUsers/importTemplate",method:"get",responseType:"arraybuffer"})},getReviewDetailByType:function(e,t){return Object(i["a"])({url:"/ivf/review/"+e+"/"+t,method:"get"})},updateProjectState:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/updateProjectState",method:"post",data:e})},notifyPay:function(e){return Object(i["a"])({url:"/ivf/project/notifyPay",method:"post",data:e})},getAccountTypes:function(){return Object(i["a"])({url:"/ivf/common/accountTypes",method:"get"})},getRuleTree:function(){return Object(i["a"])({url:"/ivf/rule/ruleTree",method:"get"})},getRuleDetail:function(e){return Object(i["a"])({url:"/ivf/rule/"+e,method:"get"})},updateRule:function(e,t){return Object(i["a"])({url:"/ivf/rule/"+t+"/update",method:"post",data:e})},getProjectRuleList:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/rule/list",method:"get"})},getProjectRuleDetail:function(e,t){return Object(i["a"])({url:"/ivf/project/"+e+"/rule/"+t,method:"get"})},updateRulesMember:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/rule/"+r+"/updateMember",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateRulesQuota:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/rule/"+r+"/updateQuota",method:"post",data:e})},getIntentions:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects",method:"post",data:e})},addIntentions:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects/add",method:"post",data:e})},getInvestIntentionReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/investCollects/reviewing",method:"get"})},getReviewDetailPC:function(e){return Object(i["a"])({url:"/ivf/review/PC/"+e,method:"get"})},deleteIntention:function(e,t){return Object(i["a"])({url:"/ivf/project/"+e+"/investCollects/"+t+"/delete",method:"post"})},setInvestIntentionLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects/"+r+"/lock",method:"post",data:e})},getIntentionRecord:function(e,t){return Object(i["a"])({url:"/ivf/project/"+e+"/investCollects/"+t,method:"get"})},updateIntention:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects/"+r+"/update",method:"post",data:e})},launchIntentionNotice:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects/launch",method:"post",data:e})},getConfirmIntentionList:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/investCollects/confirmList",method:"get"})},confirmSubmitIntention:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects/confirmSubmit",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},revokeReview:function(e){return Object(i["a"])({url:"/ivf/review/"+e+"/revoke",method:"post"})},exportIntentionTemplate:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/investCollects/export",method:"get",responseType:"arraybuffer"})},importIntentionSave:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/investCollects/importSave",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getUserAccount:function(e,t){return Object(i["a"])({url:"/ivf/common/userAccount/"+t,method:"get",params:e})},exportPaymentTemplate:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/payment/export",method:"get",responseType:"arraybuffer"})},downloadPaymentTemplate:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/payment/downloadImportTemplate",method:"get",responseType:"arraybuffer"})},getReviewDetailRP:function(e){return Object(i["a"])({url:"/ivf/review/RP/"+e,method:"get"})},getReviewDetailRR:function(e){return Object(i["a"])({url:"/ivf/review/RR/"+e,method:"get"})},getReviewDetailRU:function(e){return Object(i["a"])({url:"/ivf/review/RU/"+e,method:"get"})},getRecoups:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups",method:"post",data:e})},setRecoupsLock:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups/"+r+"/lock",method:"post",data:e})},updateRecoups:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups/update",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},updateRecoupsReview:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups/update/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getRecoupsReviewing:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/recoups/reviewing",method:"get"})},getAllocateBatch:function(e){return Object(i["a"])({url:"/ivf/project/"+e+"/allocate/batch",method:"get"})},exportRecoupsExcel:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups/export",method:"post",data:e,responseType:"arraybuffer"})},submitRecoupsReview:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups/submitReview",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},confirmPayRecoups:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/recoups/confirmPay",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getRecoupsDetail:function(e,t){return Object(i["a"])({url:"/ivf/review/"+t+"/"+e,method:"get"})},initProjectContract:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/init",method:"get",params:e})},initContractDetail:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+e+"/contract/"+t,method:"get",params:r})},getInvestUserContract:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/investUser",method:"get",params:e})},addContractDocument:function(e,t,r){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/"+r,method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},createContract:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/create",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getContractDetail:function(e,t){return Object(i["a"])({url:"/ivf/project/"+e+"/contract/"+t,method:"get"})},getElectronicSignList:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/electronicSignList",method:"get",params:e})},createPhysicalContract:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/physicalUpload",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},getPhysicalSignList:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/physicalSignList",method:"get",params:e})},getApprovalList:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/approvalList",method:"post",data:e})},initTrustAgreement:function(e,t){return Object(i["a"])({url:"/ivf/project/"+t+"/contract/initTrustAgreement",method:"get",params:e})}}},a75f:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"当前",name:"current"}},[i("div",{staticClass:"wrap"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[i("el-input",{staticStyle:{width:"250px","margin-right":"auto"},attrs:{size:"",placeholder:"搜索跟投员工姓名"},on:{input:function(t){return e.getInvestUsers()}},model:{value:e.currentKeyword,callback:function(t){e.currentKeyword=t},expression:"currentKeyword"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.reviewId&&e.isAdmin,expression:"!reviewId && isAdmin"}],staticStyle:{cursor:"pointer"},on:{click:function(t){return e.editInvestUsers("current")}}},[i("i",{staticClass:"iconfont icon-guanli"}),e._v("管理")])],1),e.current&&e.current.length>0?i("el-table",{staticStyle:{width:"100%",margin:"30px 0"},attrs:{data:e.current,"row-class-name":e.projectUserRowClass}},[i("el-table-column",{attrs:{prop:"roleName",label:"角色",width:"160"}}),i("el-table-column",{attrs:{prop:"investUser.userName",label:"姓名",width:"80"}}),i("el-table-column",{attrs:{prop:"investUser.deptName",label:"部门",width:"120"}}),i("el-table-column",{attrs:{prop:"investUser.mobileNo",width:"120",label:"手机号"}}),i("el-table-column",{attrs:{prop:"investUser.idCardNo",width:"170",label:"身份证号"}}),i("el-table-column",{attrs:{prop:"investAmt",width:"160",label:"跟投总额",align:"right","header-align":"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.investAmt||0===t.row.investAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.investAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.investAmt||0===t.row.investAmt?e._e():i("span",[e._v("--")])]}}],null,!1,2293164673)}),i("el-table-column",{attrs:{prop:"investAmt",width:"90",label:"跟投比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.ivfRatio||0===t.row.ivfRatio?t.row.ivfRatio+"%":"--")+"\n              ")]}}],null,!1,1950819331)}),i("el-table-column",{attrs:{prop:"ownAmt",width:"160",label:"自有资金",align:"right","header-align":"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ownAmt||0===t.row.ownAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.ownAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.ownAmt||0===t.row.ownAmt?e._e():i("span",[e._v("--")])]}}],null,!1,3597173732)}),i("el-table-column",{attrs:{prop:"loanAmt",width:"160",label:"借款总额",align:"right","header-align":"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.loanAmt||0===t.row.loanAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.loanAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.loanAmt||0===t.row.loanAmt?e._e():i("span",[e._v("--")])]}}],null,!1,1446001630)}),i("el-table-column",{attrs:{prop:"holdingUserName",label:"代持人",width:"80"}}),i("el-table-column",{attrs:{prop:"holdingUserMobileNo",width:"120",label:"代持人手机号"}}),i("el-table-column",{attrs:{label:"操作",align:"center","header-align":"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return["current"===e.activeName&&t.row.recordState&&"LK"!==t.row.recordState.value&&e.isUnLock?i("el-button",{attrs:{type:"text"},on:{click:function(r){return e.setLock(t.row)}}},[e._v("\n                  锁定\n                ")]):e._e(),"current"===e.activeName&&t.row.recordState&&"LK"===t.row.recordState.value&&e.isUnLock?i("el-button",{staticStyle:{color:"#e5a147"},attrs:{type:"text"},on:{click:function(r){return e.setLock(t.row)}}},[e._v("\n                  解锁\n                ")]):e._e(),e.isAdmin&&t.row.recordState&&"LK"===t.row.recordState.value?i("span",[e._v(" ")]):e._e()]}}],null,!1,687380418)})],1):e._e(),i("el-row",{directives:[{name:"show",rawName:"v-show",value:e.current&&0===e.current.length,expression:"current && current.length===0"}]},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:r("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[e._v("暂无数据")]),i("br"),i("br")])])],1)],1)]),i("el-tab-pane",{attrs:{label:"复核中",name:"review"}},[i("div",{staticClass:"wrap"},[e.reviewId?i("el-table",{staticStyle:{width:"100%",margin:"30px 0"},attrs:{data:e.review.investUsers,"row-class-name":e.projectUserRowClass}},[i("el-table-column",{attrs:{prop:"ruleRole",label:"角色",width:"160"}}),i("el-table-column",{attrs:{prop:"investUser.userName",label:"姓名",width:"80"}}),i("el-table-column",{attrs:{prop:"investUser.deptName",label:"部门",width:"120"}}),i("el-table-column",{attrs:{prop:"investUser.mobileNo",width:"120",label:"手机号"}}),i("el-table-column",{attrs:{prop:"investUser.idCardNo",width:"170",label:"身份证号"}}),i("el-table-column",{attrs:{prop:"investAmt",width:"160",label:"跟投总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:e.$options.filters["formatMoney"](t.row.modifyInfo&&t.row.modifyInfo.investAmt)+e.investCcy.unit,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.investAmt}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.investAmt}},[t.row.investAmt||0===t.row.investAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.investAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.investAmt||0===t.row.investAmt?e._e():i("span",[e._v("--")])])])]}}],null,!1,709639814)}),i("el-table-column",{attrs:{prop:"investAmt",width:"90",label:"跟投比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.ivfRatio||0===t.row.ivfRatio?t.row.ivfRatio+"%":"--")+"\n              ")]}}],null,!1,1950819331)}),i("el-table-column",{attrs:{prop:"ownAmt",width:"160",label:"自有资金","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:e.$options.filters["formatMoney"](t.row.modifyInfo&&t.row.modifyInfo.ownAmt)+e.investCcy.unit,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.ownAmt}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.ownAmt}},[t.row.ownAmt||0===t.row.ownAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.ownAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.ownAmt||0===t.row.ownAmt?e._e():i("span",[e._v("--")])])])]}}],null,!1,3345666886)}),i("el-table-column",{attrs:{prop:"loanAmt",width:"160",label:"借款总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:e.$options.filters["formatMoney"](t.row.modifyInfo&&t.row.modifyInfo.loanAmt)+e.investCcy.unit,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.loanAmt}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.loanAmt}},[t.row.loanAmt||0===t.row.loanAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.loanAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.loanAmt||0===t.row.loanAmt?e._e():i("span",[e._v("--")])])])]}}],null,!1,2284470758)}),i("el-table-column",{attrs:{prop:"holdingUserName",width:"80",label:"代持人"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:t.row.modifyInfo&&t.row.modifyInfo.holdingUserName,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.holdingUserName}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.holdingUserName}},[i("span",[e._v(e._s(t.row.holdingUserName))])])])]}}],null,!1,2206454238)}),i("el-table-column",{attrs:{prop:"holdingUserName",width:"120",label:"代持人手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:t.row.modifyInfo&&t.row.modifyInfo.holdingUserMobileNo,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.holdingUserMobileNo}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.holdingUserMobileNo}},[i("span",[e._v(e._s(t.row.holdingUserMobileNo))])])])]}}],null,!1,1287693662)}),i("el-table-column",{attrs:{prop:"updateOpt.name",label:"状态"}})],1):e._e(),i("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.reviewId,expression:"!reviewId"}]},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:r("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[e._v("暂无数据")]),i("br"),i("br")])])],1)],1)]),i("el-tab-pane",{attrs:{label:"更新历史",name:"history"}},[e.history.list&&e.history.list.length>0?i("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.history.list}},[i("el-table-column",{attrs:{prop:"name",label:"时间",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reviewTime?i("span",[e._v(e._s(e._f("DateTimeEn")(t.row.reviewTime)))]):e._e(),t.row.reviewTime?e._e():i("span",[e._v(e._s(e._f("DateTimeEn")(t.row.createTime)))])]}}],null,!1,2730264619)}),i("el-table-column",{attrs:{prop:"reviewSubject",label:"主题"}}),i("el-table-column",{attrs:{prop:"reviewUser.userName",width:"120",label:"复核人"}}),i("el-table-column",{attrs:{prop:"reviewState.name",width:"80",label:"复核状态"}}),i("el-table-column",{attrs:{label:"操作",width:"130",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(r){return e.getReviewDetailPU(t.row.reviewId)}}},[e._v("查看")]),t.row.canEdit&&e.isAdmin&&!e.reviewId?i("el-button",{staticStyle:{"padding-left":"10px"},attrs:{type:"text"},on:{click:function(r){return e.editHistoryReview(t.row.reviewId)}}},[e._v("重新编辑")]):e._e()]}}],null,!1,1729892955)})],1):e._e(),i("div",{staticClass:"txt-right"},[e.history.list&&e.history.list.length>0?i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.history.pageNum,"page-sizes":[5,10,20],"page-size":e.history.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.history.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.history.list&&e.history.list.length>0,expression:"history.list && history.list.length>0"}],staticStyle:{width:"100%",height:"30px"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.history.list&&0===e.history.list.length,expression:"history.list && history.list.length===0"}],staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:r("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[e._v("暂无数据")]),i("br"),i("br")])],1)],1),i("div",{staticStyle:{margin:"30px -16px 0"}},["current"===e.activeName&&e.reviewId&&e.isAdmin||"review"===e.activeName&&e.reviewId&&e.isReview?i("div",{staticStyle:{width:"100%","border-top":"solid 1px #EBEBEB"}}):e._e(),"current"===e.activeName&&e.reviewId&&e.isAdmin?i("div",{staticStyle:{"padding-left":"30px",color:"#ff0000"}},[e._v("\n        操作提示：当前记录复核中，如需更改内容请在“复核中”页面编辑。\n      ")]):e._e(),"review"===e.activeName&&e.reviewId&&e.isAdmin?i("el-button",{staticStyle:{margin:"10px 0 10px 32px"},attrs:{type:"primary"},on:{click:function(t){return e.editInvestUsers("review")}}},[e._v("\n        编辑\n      ")]):e._e(),"review"===e.activeName&&e.reviewId&&e.isReview?i("el-button",{staticStyle:{margin:"10px 0 10px 32px"},attrs:{type:"primary"},on:{click:e.pass}},[e._v("\n        通过\n      ")]):e._e(),"review"===e.activeName&&e.reviewId&&e.isReview?i("el-button",{staticStyle:{margin:"10px 0 10px 32px"},on:{click:e.reject}},[e._v("\n        驳回\n      ")]):e._e()],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:e.detail.dialogVisible,width:"1180px","show-close":!1,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,top:"50px"},on:{"update:visible":function(t){return e.$set(e.detail,"dialogVisible",t)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[e._v("\n          跟投人员管理\n        ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){e.detail.dialogVisible=!1}}})])]),i("div",{staticClass:"project-wrap"},[i("div",{staticClass:"content",staticStyle:{width:"100%","min-height":"300px"}},[i("div",{staticClass:"wrap"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{"margin-right":"auto"}}),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showInvestUsersEdit("","new")}}},[e._v("+新增")]),i("el-button",{staticStyle:{cursor:"pointer","margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.openUserImport()}}},[e._v("导入Excel")])],1),e.detail.investUsers&&e.detail.investUsers.length>0?i("el-table",{staticStyle:{width:"100%",margin:"30px 0"},attrs:{data:e.detail.investUsers,"row-class-name":e.projectUserRowClass}},[i("el-table-column",{attrs:{prop:"ruleRole",label:"角色",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.roleName||t.row.ruleRole)+"\n                ")]}}],null,!1,1082701012)}),i("el-table-column",{attrs:{prop:"investUser.userName",label:"姓名",width:"80"}}),i("el-table-column",{attrs:{prop:"investUser.deptName",label:"部门",width:"120"}}),i("el-table-column",{attrs:{prop:"investUser.mobileNo",width:"120",label:"手机号"}}),i("el-table-column",{attrs:{prop:"investUser.idCardNo",width:"170",label:"身份证号"}}),i("el-table-column",{attrs:{prop:"investAmt",width:"160",label:"跟投总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.investAmt||0===t.row.investAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.investAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.investAmt||0===t.row.investAmt?e._e():i("span",[e._v("--")])]}}],null,!1,2293164673)}),i("el-table-column",{attrs:{prop:"investAmt",width:"90",label:"跟投比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.ivfRatio||0===t.row.ivfRatio?t.row.ivfRatio+"%":"--")+"\n                ")]}}],null,!1,4241826179)}),i("el-table-column",{attrs:{prop:"ownAmt",width:"160",label:"自有资金","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ownAmt||0===t.row.ownAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.ownAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.ownAmt||0===t.row.ownAmt?e._e():i("span",[e._v("--")])]}}],null,!1,3597173732)}),i("el-table-column",{attrs:{prop:"loanAmt",width:"160",label:"借款总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.loanAmt||0===t.row.loanAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.loanAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.loanAmt||0===t.row.loanAmt?e._e():i("span",[e._v("--")])]}}],null,!1,1446001630)}),i("el-table-column",{attrs:{prop:"holdingUserName",label:"代持人",width:"80"}}),i("el-table-column",{attrs:{prop:"holdingUserMobileNo",label:"代持人手机号",width:"120"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"130",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["D"!==t.row.updateOpt&&(e.isAdmin&&t.row.recordState&&"LK"!==t.row.recordState.value||"review"===e.activeName&&e.reviewId||"history"===e.activeName&&!e.reviewId)?i("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showInvestUsersEdit(t.row,"edit")}}},[e._v("\n                   编辑\n                  ")]):e._e(),"D"!==t.row.updateOpt&&(e.isAdmin&&t.row.recordState&&"LK"!==t.row.recordState.value||!t.row.investId&&"current"===e.activeName||"string"===typeof t.row.updateOpt&&"review"===e.activeName||"history"===e.activeName&&!e.reviewId)?i("el-button",{attrs:{type:"text"},on:{click:function(r){return e.deleteInvestUsers(t.row,t.$index)}}},[e._v("\n                   删除\n                  ")]):e._e(),e.isAdmin&&t.row.recordState&&"LK"===t.row.recordState.value&&t.row.investId?i("span",[e._v("--")]):e._e(),e.isAdmin&&"D"===t.row.updateOpt?i("span",{staticClass:"red"},[e._v("已删除")]):e._e()]}}],null,!1,391892711)})],1):e._e(),e.detail.isLocked&&e.isAdmin?i("div",{staticStyle:{"padding-left":"0px",color:"#ff0000"}},[e._v("\n              操作提示：当前存在记录已锁定，如需更改内容请通知复核员进行解锁。\n            ")]):e._e(),e.detail.investUsers&&e.detail.investUsers.length>0?i("div",{staticClass:"w-100p",staticStyle:{"border-top":"solid 1px #EBEBEB"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.detail.canSubmit,expression:"detail.canSubmit"}],staticStyle:{margin:"10px 0 0 0px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("提交")])],1):e._e(),i("el-row",{directives:[{name:"show",rawName:"v-show",value:e.detail.investUsers&&0===e.detail.investUsers.length,expression:"detail.investUsers && detail.investUsers.length===0"}]},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"w-100p gray",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:r("f244")}}),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[e._v("暂无数据")]),i("br"),i("br")])])],1)],1)])])]),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:e.investUsers.dialogVisible,width:"850px","show-close":!1,"append-to-body":!0,top:"50px"},on:{"update:visible":function(t){return e.$set(e.investUsers,"dialogVisible",t)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[e._v("\n           跟投人员新增加\n        ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){e.investUsers.dialogVisible=!1}}})])]),i("el-form",{ref:"investUsers.form",staticClass:"form",attrs:{model:e.investUsers.form,"hide-required-asterisk":!0,"label-width":"100px"}},[i("div",{staticStyle:{width:"48%",float:"left"}},[i("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"跟投人员",prop:"investUser",rules:{required:!0,message:"跟投人员"}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"edit"!==e.investUsers.edit,expression:"investUsers.edit!=='edit'"}],staticStyle:{position:"absolute",width:"30px",height:"30px","z-index":"10",right:"3px",top:"0","text-align":"center","font-size":"12px",color:"#999"}},[i("i",{staticClass:"iconfont icon-sousuo1"})]),"new"===e.investUsers.edit?i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"输入姓名","remote-method":e.getInvestUsersList},model:{value:e.investUsers.form.investUser,callback:function(t){e.$set(e.investUsers.form,"investUser",t)},expression:"investUsers.form.investUser"}},e._l(e.investUsers.list,(function(e){return i("el-option",{key:e.userId,attrs:{label:e.userName,value:JSON.stringify(e)}})})),1):e._e(),"edit"===e.investUsers.edit?i("span",[e._v(e._s(e.investUsers.form.investUserName))]):e._e()],1),i("el-form-item",{attrs:{label:"投资本金",prop:"ownAmt",rules:{required:!0,message:"投资本金"}}},[i("el-input",{attrs:{type:"number"},model:{value:e.investUsers.form.ownAmt,callback:function(t){e.$set(e.investUsers.form,"ownAmt",t)},expression:"investUsers.form.ownAmt"}},[i("template",{slot:"append"},[e._v(e._s(e.investCcy.unit))])],2)],1),i("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"代持人姓名",prop:"holdingUser"}},[i("div",{staticStyle:{position:"absolute",width:"30px",height:"30px","z-index":"10",right:"3px",top:"0","text-align":"center","font-size":"12px",color:"#999"}},[i("i",{staticClass:"iconfont icon-sousuo1"})]),i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"输入姓名","remote-method":e.getInvestUsersList},on:{change:e.setHoldingUserMobile},model:{value:e.investUsers.form.holdingUser,callback:function(t){e.$set(e.investUsers.form,"holdingUser",t)},expression:"investUsers.form.holdingUser"}},e._l(e.investUsers.list,(function(e){return i("el-option",{key:e.userId,attrs:{label:e.userName,value:JSON.stringify(e)}})})),1)],1)],1),i("div",{staticStyle:{width:"48%","margin-left":"4%",float:"left"}},[i("el-form-item",{attrs:{label:"角色",prop:"roleName"}},[e._v(e._s(e.investUsers.form.roleName))]),i("el-form-item",{attrs:{label:"借款总额",prop:"loanAmt",rules:{required:!0,message:"借款总额"}}},[i("el-input",{attrs:{type:"number"},model:{value:e.investUsers.form.loanAmt,callback:function(t){e.$set(e.investUsers.form,"loanAmt",t)},expression:"investUsers.form.loanAmt"}},[i("template",{slot:"append"},[e._v(e._s(e.investCcy.unit))])],2)],1),i("el-form-item",{attrs:{label:"代持人手机号"}},[e._v("\n            "+e._s(e.investUsers.form.holdingUserMobileNo)+"\n          ")])],1),i("div",{staticClass:"clear"}),i("div",{staticClass:"w-100p",staticStyle:{"border-top":"solid 1px #EBEBEB"}},[i("el-button",{staticStyle:{margin:"10px 0 0 60px"},attrs:{type:"primary"},on:{click:e.saveInvestUsers}},[e._v("保存")])],1)])],1),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:e.history.dialogVisible,width:"1180px","show-close":!1,"append-to-body":!0,top:"50px"},on:{"update:visible":function(t){return e.$set(e.history,"dialogVisible",t)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[e._v("\n          更新历史\n        ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){e.history.dialogVisible=!1}}})])]),i("div",{staticClass:"project-wrap"},[i("div",{staticClass:"content",staticStyle:{width:"100%"}},[i("div",{staticClass:"wrap"},[i("el-table",{staticStyle:{width:"100%",margin:"30px 0"},attrs:{data:e.history.detail.investUsers,"row-class-name":e.projectUserRowClass}},[i("el-table-column",{attrs:{prop:"ruleRole",label:"角色",width:"160"}}),i("el-table-column",{attrs:{prop:"investUser.userName",label:"姓名",width:"80"}}),i("el-table-column",{attrs:{prop:"investUser.deptName",label:"部门",width:"120"}}),i("el-table-column",{attrs:{prop:"investUser.mobileNo",width:"120",label:"手机号"}}),i("el-table-column",{attrs:{prop:"investUser.idCardNo",width:"170",label:"身份证号"}}),i("el-table-column",{attrs:{prop:"investAmt",width:"160",label:"跟投总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:e.$options.filters["formatMoney"](t.row.modifyInfo&&t.row.modifyInfo.investAmt)+e.investCcy.unit,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.investAmt}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.investAmt}},[t.row.investAmt||0===t.row.investAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.investAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.investAmt||0===t.row.investAmt?e._e():i("span",[e._v("--")])])])]}}])}),i("el-table-column",{attrs:{prop:"investAmt",width:"90",label:"跟投比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.ivfRatio||0===t.row.ivfRatio?t.row.ivfRatio+"%":"--")+"\n                ")]}}])}),i("el-table-column",{attrs:{prop:"ownAmt",width:"160",label:"自有资金","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:e.$options.filters["formatMoney"](t.row.modifyInfo&&t.row.modifyInfo.ownAmt)+e.investCcy.unit,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.ownAmt}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.ownAmt}},[t.row.ownAmt||0===t.row.ownAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.ownAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.ownAmt||0===t.row.ownAmt?e._e():i("span",[e._v("--")])])])]}}])}),i("el-table-column",{attrs:{prop:"loanAmt",width:"160",label:"借款总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:e.$options.filters["formatMoney"](t.row.modifyInfo&&t.row.modifyInfo.loanAmt)+e.investCcy.unit,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.loanAmt}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.loanAmt}},[t.row.loanAmt||0===t.row.loanAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.loanAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.loanAmt||0===t.row.loanAmt?e._e():i("span",[e._v("--")])])])]}}])}),i("el-table-column",{attrs:{prop:"holdingUserName",width:"80",label:"代持人"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:t.row.modifyInfo&&t.row.modifyInfo.holdingUserName,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.holdingUserName}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.holdingUserName}},[i("span",[e._v(e._s(t.row.holdingUserName))])])])]}}])}),i("el-table-column",{attrs:{prop:"holdingUserName",width:"120",label:"代持人手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:t.row.modifyInfo&&t.row.modifyInfo.holdingUserMobileNo,placement:"top-start",effect:"dark",disabled:!t.row.modifyInfo||!t.row.modifyInfo.holdingUserMobileNo}},[i("div",{class:{"red cursor":t.row.modifyInfo&&t.row.modifyInfo.holdingUserMobileNo}},[i("span",[e._v(e._s(t.row.holdingUserMobileNo))])])])]}}])}),i("el-table-column",{attrs:{prop:"updateOpt.name",label:"状态"}})],1)],1)])])]),i("el-dialog",{staticClass:"target-wrap table-wrap",attrs:{visible:e.userImport.dialogVisible,width:"950px","show-close":!1,"append-to-body":!0,top:"50px"},on:{"update:visible":function(t){return e.$set(e.userImport,"dialogVisible",t)}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"title"},[e._v("\n          导入Excel\n        ")]),i("div",{staticClass:"options"},[i("i",{staticClass:"iconfont icon-guanbi pointer fs-22",on:{click:function(t){e.userImport.dialogVisible=!1}}})])]),i("div",{},[i("div",[i("span",{staticStyle:{"padding-right":"16px"}},[e._v("模版")]),e._v("请先下载"),i("el-button",{staticStyle:{color:"#3C6CBA"},attrs:{type:"text"},on:{click:e.importTemplate}},[e._v("员工数据模版excel")]),e._v("，整理好再上传")],1),i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("span",{staticStyle:{"padding-right":"16px"}},[e._v("文件")]),i("el-upload",{ref:"upload",attrs:{action:e.userImport.uploadURL,headers:e.userImport.headers,limit:1,"show-file-list":!1,"on-change":e.onChangeFile}},[i("el-button",{staticStyle:{color:"#3C6CBA"},attrs:{type:"text"}},[i("i",{staticClass:"iconfont icon-fujian",staticStyle:{"font-size":"12px"}}),e._v(" 上传excel")])],1)],1),e.userImport.list&&e.userImport.list.length>0?i("el-table",{staticStyle:{width:"100%",margin:"30px 0"},attrs:{data:e.userImport.list,"row-class-name":e.projectUserRowClass}},[i("el-table-column",{attrs:{prop:"ruleRole",label:"角色",width:"160"}}),i("el-table-column",{attrs:{prop:"investUser.userName",label:"姓名",width:"80"}}),i("el-table-column",{attrs:{prop:"investUser.deptName",label:"部门",width:"120"}}),i("el-table-column",{attrs:{prop:"investUser.mobileNo",width:"120",label:"手机号"}}),i("el-table-column",{attrs:{prop:"investUser.idCardNo",width:"170",label:"身份证号"}}),i("el-table-column",{attrs:{prop:"investAmt",width:"160",label:"跟投总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.investAmt||0===t.row.investAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.investAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.investAmt||0===t.row.investAmt?e._e():i("span",[e._v("--")])]}}],null,!1,2293164673)}),i("el-table-column",{attrs:{prop:"ownAmt",width:"160",label:"自有资金","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ownAmt||0===t.row.ownAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.ownAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.ownAmt||0===t.row.ownAmt?e._e():i("span",[e._v("--")])]}}],null,!1,3597173732)}),i("el-table-column",{attrs:{prop:"loanAmt",width:"160",label:"借款总额","header-align":"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.loanAmt||0===t.row.loanAmt?i("span",[e._v(e._s(e._f("formatMoney")(t.row.loanAmt))+e._s(e.investCcy.unit))]):e._e(),t.row.loanAmt||0===t.row.loanAmt?e._e():i("span",[e._v("--")])]}}],null,!1,1446001630)}),i("el-table-column",{attrs:{prop:"holdingUserName",width:"80",label:"代持人"}}),i("el-table-column",{attrs:{prop:"holdingUserMobileNo",width:"120",label:"代持人手机号"}})],1):e._e(),i("div",{staticClass:"w-100p",staticStyle:{"border-top":"solid 1px #EBEBEB"}},[i("el-button",{staticStyle:{margin:"10px 0 0 60px"},attrs:{type:"primary",disabled:!e.userImport.list||0===e.userImport.list.length},on:{click:function(t){return e.saveImportUser()}}},[e._v("导入")])],1)],1)])],1)},s=[],o=r("bf43"),n=(r("e680"),r("9090")),a=r("ed08"),l={components:{},props:{id:String},data:function(){return{activeName:"current",current:{},currentKeyword:"",review:{},reviewId:"",history:{list:[],pageNum:1,pageSize:10,total:0,dialogVisible:!1,detail:[]},detail:{form:{},investUsers:[],dialogVisible:!1},investUsers:{form:{investUser:""},list:[],dialogVisible:!1,edit:!1},investCcy:{},isAdmin:!1,isReview:!1,isUnLock:!1,showCurrentOption:!0,userImport:{dialogVisible:!1,uploadURL:"",headers:{},list:[]}}},watch:{id:function(e){e&&(this.activeName="current",this.getProjectDetail(),this.userImport.uploadURL="https://dev-api.cgvcap.com/ivf/project/"+this.id+"/investUsers/import",this.userImport.headers={Authorization:"Bearer "+this.$store.state.user.user.token})}},mounted:function(){this.isAdmin=a["a"].hasRight(this.$store.state.user.user.jwtClaims.ar,36),this.isReview=a["a"].hasRight(this.$store.state.user.user.jwtClaims.ar,35),this.isUnLock=a["a"].hasRight(this.$store.state.user.user.jwtClaims.ar,38)},methods:{getProjectDetail:function(){var e=this;n["a"].getProjectDetail(this.id).then((function(t){200===t.code&&(e.investCcy=t.data.investCcy,e.getInvestUsers())})).catch((function(e){console.log(e)}))},getInvestUsers:function(){var e=this,t={filter:this.currentKeyword};n["a"].getInvestUsers(t,this.id).then((function(t){200===t.code&&(e.current=t.data,e.isAdmin&&(e.showCurrentOption=!1,t.data.map((function(t){"LK"!==t.recordState.value&&(e.showCurrentOption=!0)}))),e.getReviewingDetail())})).catch((function(e){console.log(e)}))},editInvestUsers:function(e){var t=this;this.detail.isLocked=!1,"current"===e?(this.detail.investUsers=a["a"].deepCopy(this.current),this.detail.dialogVisible=!0,this.detail.canSubmit=!1):(this.detail.investUsers=a["a"].deepCopy(this.review.investUsers),this.detail.dialogVisible=!0,this.detail.canSubmit=!1),this.detail.investUsers.map((function(e){e.recordState&&"LK"===e.recordState.value&&(t.detail.isLocked=!0)}))},getInvestUsersList:function(e){var t=this,r={search:e,pageNum:1,pageSize:1e4};n["a"].getUserList(r).then((function(e){200===e.code&&(t.investUsers.list=e.data.list)})).catch((function(e){console.log(e)}))},setHoldingUserMobile:function(){this.investUsers.form.holdingUser?this.$set(this.investUsers.form,"holdingUserMobileNo",JSON.parse(this.investUsers.form.holdingUser).mobileNo):this.$set(this.investUsers.form,"holdingUserMobileNo","")},saveInvestUsers:function(){var e=this;this.$refs["investUsers.form"].validate((function(t){if(t){if(e.detail.investUsers=e.detail.investUsers||[],e.investUsers.form.investUserName){if(e.investUsers.form.investId){for(var r in e.detail.investUsers)if(e.detail.investUsers[r].investId&&e.detail.investUsers[r].investId===e.investUsers.form.investId){var i=!!(e.investUsers.form.holdingUser&&e.investUsers.form.holdingUser.indexOf("{")>-1);e.detail.investUsers[r].investAmt=Number(e.investUsers.form.loanAmt||0)+Number(e.investUsers.form.ownAmt||0),e.detail.investUsers[r].loanAmt=Number(e.investUsers.form.loanAmt||0),e.detail.investUsers[r].ownAmt=Number(e.investUsers.form.ownAmt||0),e.detail.investUsers[r].investUser=JSON.parse(e.investUsers.form.investUser),e.detail.investUsers[r].holdingUserName=i?JSON.parse(e.investUsers.form.holdingUser).userName:e.investUsers.form.holdingUserName,e.detail.investUsers[r].holdingUserMobileNo=i?JSON.parse(e.investUsers.form.holdingUser).mobileNo:e.investUsers.form.holdingUserMobileNo,e.detail.investUsers[r].holdingUserId=i?JSON.parse(e.investUsers.form.holdingUser).userId:e.investUsers.form.holdingUserId,e.detail.investUsers[r].updateOpt="U",e.detail.investUsers[r].userId=JSON.parse(e.investUsers.form.investUser).userId;break}}else for(var s in e.detail.investUsers)if(e.detail.investUsers[s].investUser.userId===JSON.parse(e.investUsers.form.investUser).userId){var o=!!(e.investUsers.form.holdingUser&&e.investUsers.form.holdingUser.indexOf("{")>-1);e.detail.investUsers[s].investAmt=Number(e.investUsers.form.loanAmt||0)+Number(e.investUsers.form.ownAmt||0),e.detail.investUsers[s].loanAmt=Number(e.investUsers.form.loanAmt||0),e.detail.investUsers[s].ownAmt=Number(e.investUsers.form.ownAmt||0),e.detail.investUsers[s].investUser=JSON.parse(e.investUsers.form.investUser),e.detail.investUsers[s].holdingUserName=o?JSON.parse(e.investUsers.form.holdingUser).userName:e.investUsers.form.holdingUserName,e.detail.investUsers[s].holdingUserMobileNo=o?JSON.parse(e.investUsers.form.holdingUser).mobileNo:e.investUsers.form.holdingUserMobileNo,e.detail.investUsers[s].holdingUserId=o?JSON.parse(e.investUsers.form.holdingUser).userId:e.investUsers.form.holdingUserId,e.detail.investUsers[s].updateOpt="C",e.detail.investUsers[s].userId=JSON.parse(e.investUsers.form.investUser).userId;break}}else{var n=!!(e.investUsers.form.holdingUser&&e.investUsers.form.holdingUser.indexOf("{")>-1);e.detail.investUsers.push({investAmt:Number(e.investUsers.form.loanAmt||0)+Number(e.investUsers.form.ownAmt||0),investId:"",investUser:JSON.parse(e.investUsers.form.investUser),loanAmt:Number(e.investUsers.form.loanAmt||0),ownAmt:Number(e.investUsers.form.ownAmt||0),updateOpt:"C",userId:JSON.parse(e.investUsers.form.investUser).userId,holdingUserName:n?JSON.parse(e.investUsers.form.holdingUser).userName:"",holdingUserMobileNo:n?JSON.parse(e.investUsers.form.holdingUser).mobileNo:"",holdingUserId:n?JSON.parse(e.investUsers.form.holdingUser).userId:""})}e.investUsers.dialogVisible=!1,e.investUsers.form={},e.detail.canSubmit=!0}}))},save:function(){var e=this,t=[];this.detail.investUsers.map((function(e){e.updateOpt&&("string"!==typeof e.updateOpt&&(e.updateOpt=e.updateOpt.value),t.push(e))}));var r={investUsers:t};"current"===this.activeName?n["a"].updateInvestUsers(r,this.id).then((function(t){200===t.code&&(e.$message.success({message:"编辑成功！",duration:1500}),e.detail.dialogVisible=!1,e.userImport.dialogVisible=!1,e.getInvestUsers())})).catch((function(e){console.log(e)})):n["a"].updateInvestUsersReview(r,this.id,this.reviewId).then((function(t){200===t.code&&(e.$message.success({message:"编辑成功！",duration:1500}),e.detail.dialogVisible=!1,e.userImport.dialogVisible=!1,e.getInvestUsers())})).catch((function(e){console.log(e)}))},getReviewingDetail:function(){var e=this;n["a"].getInvestUsersReviewing(this.id).then((function(t){200===t.code&&t.data?(t.data.content=e.setModifyData(t.data),e.review=t.data.content,e.reviewId=t.data.reviewId):(e.review={},e.reviewId="")})).catch((function(e){console.log(e)}))},setModifyData:function(e){for(var t in e.modifyFields)if("object"===Object(o["a"])(e.modifyFields[t]))for(var r in e.modifyFields[t])for(var i in e.content[t])r===e.content[t][i].investId&&(e.content[t][i].modifyInfo=e.modifyFields[t][r]);else{var s=t+"Modify";switch(e.content[s]=e.modifyFields[t],t){case"investCcy":e.content[s]="CNY"===e.content[s]?{value:"CNY",name:"人民币",unit:"元"}:{value:"USD",name:"美元",unit:"美元"};break;case"holdingType":e.content[s]="P"===e.content[s]?{value:"P",name:"持股比例",unit:"%"}:{value:"A",name:"持股数",unit:"股"};break}}return e.content},handleClick:function(e){switch(e.paneName){case"current":this.getInvestUsers();break;case"review":this.getReviewingDetail();break;case"history":this.getReviewList();break}},pass:function(){var e=this;n["a"].reviewPass(this.reviewId).then((function(t){200===t.code&&(e.reviewId="",e.review={},e.$message.success({message:"待复核通过！",duration:1500}))})).catch((function(e){console.log(e)}))},reject:function(){var e=this;n["a"].reviewReject(this.reviewId).then((function(t){200===t.code&&(e.reviewId="",e.review={},e.$message.success({message:"待复核驳回！",duration:1500}))})).catch((function(e){console.log(e)}))},setLock:function(e){var t=this;console.log(e);var r={unlock:"LK"===e.recordState.value};n["a"].setInvestUserLock(r,this.id,e.investId).then((function(e){200===e.code&&(t.$message.success({message:r.unlock?"解锁成功!":"锁定成功!",duration:1500}),t.getInvestUsers())})).catch((function(e){console.log(e)}))},showInvestUsersEdit:function(e,t){e?(console.log(e),this.investUsers.form=a["a"].deepCopy(e),this.investUsers.form.investUser=JSON.stringify(e.investUser),this.investUsers.form.investUserName=e.investUser.userName,this.investUsers.form.holdingUser=e.holdingUserName):this.investUsers.form={investUser:""},this.investUsers.edit=t,this.investUsers.dialogVisible=!0},deleteInvestUsers:function(e,t){var r=this;console.log(e,t),this.$confirm("即将删除《"+e.investUser.userName+"》，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.investId?(r.$set(r.detail.investUsers[t],"updateOpt","D"),r.$set(r.detail.investUsers[t],"userId",r.detail.investUsers[t].investUser.userId),r.detail.canSubmit=!0):r.detail.investUsers.splice(t,1)})).catch((function(e){}))},getReviewList:function(){var e=this,t={pageNum:this.history.pageNum,pageSize:this.history.pageSize,projectId:this.id,reviewType:"PU"};n["a"].getReviewList(t).then((function(t){200===t.code&&(e.history.list=t.data.list,e.history.total=t.data.total)})).catch((function(e){console.log(e)}))},getReviewDetailPU:function(e){var t=this;n["a"].getReviewDetailPU(e).then((function(e){200===e.code&&(e.data.content=t.setModifyData(e.data),t.history.detail=e.data.content,t.history.dialogVisible=!0)})).catch((function(e){console.log(e)}))},handleCurrentChange:function(e){this.history.pageNum=e,this.getReviewList()},handleSizeChange:function(e){this.history.pageSize=e,this.history.pageNum=1,this.getReviewList()},projectUserRowClass:function(e){var t=e.row.recordState&&"LK"===e.row.recordState.value?"lock":"";return e.row.updateOpt&&"C"===e.row.updateOpt.value?t+="green ":e.row.updateOpt&&"D"===e.row.updateOpt.value&&(t+="txt-delete "),t},editHistoryReview:function(e){var t=this;n["a"].getReviewDetailPU(e).then((function(e){200===e.code&&(t.detail.investUsers=e.data.content.investUsers,t.detail.canSubmit=!1,t.detail.dialogVisible=!0)})).catch((function(e){console.log(e)}))},importTemplate:function(){n["a"].importInvestUsersTemplate(this.id).then((function(e){var t=e.headers,r="跟投人员信息导入模板.xlsx",i=new Blob([e.data],{type:t["content-type"]}),s=document.createElement("a");s.href=window.URL.createObjectURL(i);t["content-disposition"];s.download=r,s.click()})).catch((function(e){console.log(e)}))},onChangeFile:function(e){var t=this;console.log(e),e.response&&200===e.response.code&&e.response.data?(console.log(1),this.$set(this.userImport,"list",e.response.data.investUsers),this.$message.success({message:"导入数据成功！",duration:1500}),setTimeout((function(){t.$refs.upload.clearFiles()}),300)):e.response&&e.response.code&&e.response.data&&(console.log(2),this.$message.error({message:JSON.stringify(e.response.msg),duration:1500}))},openUserImport:function(){this.userImport.list=[],this.userImport.dialogVisible=!0},saveImportUser:function(){var e=[];this.userImport.list.map((function(t){t.updateOpt=t.updateOpt.value,e.push(t)})),this.detail.investUsers=e,this.save()}}},c=l,d=(r("4c10"),r("1c59"),r("4ac2")),u=Object(d["a"])(c,i,s,!1,null,"3df667c3",null);t["default"]=u.exports},ccaa:function(e,t,r){},f244:function(e,t){e.exports="data:image/png;base64,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"}}]);